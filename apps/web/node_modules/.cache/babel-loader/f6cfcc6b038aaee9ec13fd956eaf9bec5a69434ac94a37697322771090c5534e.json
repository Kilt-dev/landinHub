{"ast":null,"code":"var _jsxFileName = \"F:\\\\landinghub-iconic\\\\apps\\\\web\\\\src\\\\components\\\\create-page\\\\helpers.js\";\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport { sections } from '../../constants/sections';\nimport eventController from '../../utils/EventUtils';\n\n// Constants\n/**\r\n * Item types for drag-and-drop functionality\r\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ItemTypes = {\n  ELEMENT: 'element',\n  EXISTING_ELEMENT: 'existingElement',\n  CHILD_ELEMENT: 'childElement'\n};\n\n// Utilities\n/**\r\n * Converts camelCase to kebab-case for CSS properties\r\n * @param {string} str - The camelCase string\r\n * @returns {string} The kebab-case string\r\n */\nconst toKebabCase = str => str.replace(/[A-Z]/g, m => `-${m.toLowerCase()}`);\n\n/**\r\n * Calculates precise coordinates within a canvas or section\r\n * @param {number} mouseX - Mouse X coordinate\r\n * @param {number} mouseY - Mouse Y coordinate\r\n * @param {HTMLElement} containerElement - The container element\r\n * @param {number} zoomLevel - Zoom level percentage\r\n * @returns {Object} Coordinates { x, y }\r\n */\nexport const getCanvasPosition = (mouseX, mouseY, containerElement, zoomLevel) => {\n  if (!containerElement) {\n    console.error('Container element is null in getCanvasPosition');\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n  const rect = containerElement.getBoundingClientRect();\n  const scrollX = containerElement.scrollLeft || 0;\n  const scrollY = containerElement.scrollTop || 0;\n  const rawX = (mouseX - rect.left + scrollX) / (zoomLevel / 100);\n  const rawY = (mouseY - rect.top + scrollY) / (zoomLevel / 100);\n  return {\n    x: Math.max(0, rawX),\n    y: Math.max(0, rawY)\n  };\n};\n\n/**\r\n * Snaps coordinates to grid or nearby snap points\r\n * @param {number} x - X coordinate\r\n * @param {number} y - Y coordinate\r\n * @param {number} gridSize - Size of the grid\r\n * @param {Array<Object>} snapPoints - Array of snap points { x, y }\r\n * @returns {Object} Snapped coordinates { x, y }\r\n */\nexport const snapToGrid = (x, y, gridSize, snapPoints = []) => {\n  let snappedX = Math.round(x / gridSize) * gridSize;\n  let snappedY = Math.round(y / gridSize) * gridSize;\n  snapPoints.forEach(point => {\n    if (Math.abs(x - point.x) < 15) snappedX = point.x;\n    if (Math.abs(y - point.y) < 15) snappedY = point.y;\n  });\n  return {\n    x: snappedX,\n    y: snappedY\n  };\n};\n\n/**\r\n * Calculates bounds of an element for snapping\r\n * @param {Object} element - Element object with position and size\r\n * @returns {Object} Bounds { left, top, right, bottom, centerX, centerY }\r\n */\nexport const getElementBounds = element => {\n  var _element$position, _element$position$des, _element$position2, _element$position2$de, _element$position3, _element$position3$de, _element$size, _element$position4, _element$position4$de, _element$size2, _element$position5, _element$position5$de, _element$size3, _element$position6, _element$position6$de, _element$size4;\n  return {\n    left: ((_element$position = element.position) === null || _element$position === void 0 ? void 0 : (_element$position$des = _element$position.desktop) === null || _element$position$des === void 0 ? void 0 : _element$position$des.x) || 0,\n    top: ((_element$position2 = element.position) === null || _element$position2 === void 0 ? void 0 : (_element$position2$de = _element$position2.desktop) === null || _element$position2$de === void 0 ? void 0 : _element$position2$de.y) || 0,\n    right: (((_element$position3 = element.position) === null || _element$position3 === void 0 ? void 0 : (_element$position3$de = _element$position3.desktop) === null || _element$position3$de === void 0 ? void 0 : _element$position3$de.x) || 0) + (((_element$size = element.size) === null || _element$size === void 0 ? void 0 : _element$size.width) || 200),\n    bottom: (((_element$position4 = element.position) === null || _element$position4 === void 0 ? void 0 : (_element$position4$de = _element$position4.desktop) === null || _element$position4$de === void 0 ? void 0 : _element$position4$de.y) || 0) + (((_element$size2 = element.size) === null || _element$size2 === void 0 ? void 0 : _element$size2.height) || 50),\n    centerX: (((_element$position5 = element.position) === null || _element$position5 === void 0 ? void 0 : (_element$position5$de = _element$position5.desktop) === null || _element$position5$de === void 0 ? void 0 : _element$position5$de.x) || 0) + (((_element$size3 = element.size) === null || _element$size3 === void 0 ? void 0 : _element$size3.width) || 200) / 2,\n    centerY: (((_element$position6 = element.position) === null || _element$position6 === void 0 ? void 0 : (_element$position6$de = _element$position6.desktop) === null || _element$position6$de === void 0 ? void 0 : _element$position6$de.y) || 0) + (((_element$size4 = element.size) === null || _element$size4 === void 0 ? void 0 : _element$size4.height) || 50) / 2\n  };\n};\n\n/**\r\n * Processes styles including pseudo-classes and keyframes into CSS string\r\n * @param {Object} styles - Style object\r\n * @param {string} className - CSS class name\r\n * @returns {string} Generated CSS string\r\n */\nexport const processStyles = (styles, className) => {\n  let cssString = '';\n  const keyframes = {};\n  Object.entries(styles).forEach(([key, value]) => {\n    if (key.startsWith(':')) {\n      cssString += `.${className}${key} { `;\n      Object.entries(value).forEach(([prop, val]) => {\n        if (prop.startsWith('::')) {\n          cssString += `.${className}${prop} { `;\n          Object.entries(val).forEach(([p, v]) => {\n            cssString += `${toKebabCase(p)}: ${v}; `;\n          });\n          cssString += '} ';\n        } else {\n          cssString += `${toKebabCase(prop)}: ${val}; `;\n        }\n      });\n      cssString += '} ';\n    } else if (key.startsWith('@keyframes')) {\n      keyframes[key] = value;\n    } else {\n      cssString += `${toKebabCase(key)}: ${value}; `;\n    }\n  });\n  Object.entries(keyframes).forEach(([key, frames]) => {\n    cssString += `${key} { `;\n    Object.entries(frames).forEach(([percentage, props]) => {\n      cssString += `${percentage} { `;\n      Object.entries(props).forEach(([prop, val]) => {\n        cssString += `${toKebabCase(prop)}: ${val}; `;\n      });\n      cssString += '} ';\n    });\n    cssString += '} ';\n  });\n  return cssString;\n};\n\n// Component Rendering\n/**\r\n * Cleans styles for text-based elements by removing incompatible properties\r\n * @param {Object} originalStyles - Original style object\r\n * @returns {Object} Cleaned style object\r\n */\nconst getCleanTextStyles = originalStyles => {\n  const cleaned = {\n    ...originalStyles\n  };\n  const propertiesToRemove = ['border', 'borderRadius', 'boxShadow', 'backgroundColor', 'background', 'backgroundImage', 'backgroundSize', 'backgroundPosition', 'padding', 'paddingLeft', 'paddingRight', 'paddingTop', 'paddingBottom'];\n  propertiesToRemove.forEach(prop => delete cleaned[prop]);\n  return {\n    ...cleaned,\n    margin: cleaned.margin || '0',\n    boxSizing: 'border-box',\n    display: cleaned.display || 'block',\n    width: cleaned.width || '100%',\n    height: cleaned.height || 'auto'\n  };\n};\n\n/**\r\n * Generates CSS for icon component with pseudo-classes and keyframes\r\n * @param {Object} styles - Style object\r\n * @param {string} uniqueClass - Unique CSS class name\r\n * @param {boolean} hasImage - Whether the icon uses an image\r\n * @returns {string} Generated CSS string\r\n */\nconst getIconCSS = (styles, uniqueClass, hasImage) => {\n  let hoverCSS = '';\n  let activeCSS = '';\n  let keyframesCSS = '';\n  const iconStyles = {\n    ...styles\n  };\n  const hoverStyles = iconStyles[':hover'] || {};\n  const activeStyles = iconStyles[':active'] || {};\n  delete iconStyles[':hover'];\n  delete iconStyles[':active'];\n  Object.keys(iconStyles).forEach(key => {\n    if (key.startsWith('@keyframes')) {\n      const animationName = key.replace('@keyframes ', '').trim();\n      const frames = iconStyles[key];\n      keyframesCSS += `@keyframes ${animationName} {`;\n      Object.entries(frames).forEach(([percentage, props]) => {\n        keyframesCSS += `${percentage} {`;\n        Object.entries(props).forEach(([prop, val]) => {\n          keyframesCSS += `${toKebabCase(prop)}: ${val};`;\n        });\n        keyframesCSS += '}';\n      });\n      keyframesCSS += '}';\n      delete iconStyles[key];\n    }\n  });\n  if (Object.keys(hoverStyles).length > 0) {\n    hoverCSS = `.${uniqueClass}:hover {`;\n    Object.entries(hoverStyles).forEach(([key, value]) => {\n      hoverCSS += `${toKebabCase(key)}: ${value};`;\n    });\n    hoverCSS += '}';\n  }\n  if (Object.keys(activeStyles).length > 0) {\n    activeCSS = `.${uniqueClass}:active {`;\n    Object.entries(activeStyles).forEach(([key, value]) => {\n      activeCSS += `${toKebabCase(key)}: ${value};`;\n    });\n    activeCSS += '}';\n  }\n  const imgCSS = hasImage ? `\n        .${uniqueClass} img {\n          width: 100%;\n          height: 100%;\n          object-fit: contain;\n        }\n      ` : '';\n  return `\n    .${uniqueClass} {\n      position: absolute;\n      z-index: ${iconStyles.zIndex || 10};\n      isolation: ${iconStyles.isolation || 'isolate'};\n    }\n    .${uniqueClass} svg {\n      width: 100%;\n      height: 100%;\n      fill: none;\n      stroke: ${iconStyles.stroke || 'currentColor'};\n      stroke-width: ${iconStyles.strokeWidth || 2};\n      stroke-linecap: ${iconStyles.strokeLinecap || 'round'};\n      stroke-linejoin: ${iconStyles.strokeLinejoin || 'round'};\n    }\n    ${imgCSS}\n    ${hoverCSS}\n    ${activeCSS}\n    ${keyframesCSS}\n  `;\n};\n\n/**\r\n * Generates CSS for button component with pseudo-classes and keyframes\r\n * @param {Object} styles - Style object\r\n * @param {string} buttonClass - Unique CSS class name\r\n * @returns {string} Generated CSS string\r\n */\nconst getButtonCSS = (styles, buttonClass) => {\n  const buttonStyles = {\n    ...styles\n  };\n  const pseudoStyles = {\n    ':hover': buttonStyles[':hover'] || {},\n    ':active': buttonStyles[':active'] || {}\n  };\n  const keyframes = {};\n  delete buttonStyles[':hover'];\n  delete buttonStyles[':active'];\n  Object.keys(buttonStyles).forEach(key => {\n    if (key.startsWith('@keyframes')) {\n      keyframes[key.replace('@keyframes ', '').trim()] = buttonStyles[key];\n      delete buttonStyles[key];\n    }\n  });\n  let cssString = Object.entries(pseudoStyles).reduce((acc, [pseudo, props]) => {\n    if (Object.keys(props).length === 0) return acc;\n    const propsString = Object.entries(props).map(([key, value]) => {\n      if (key.startsWith('::')) {\n        const subPropsString = Object.entries(value).map(([k, v]) => `${toKebabCase(k)}: ${v};`).join(' ');\n        return `.${buttonClass}${key} { ${subPropsString} }`;\n      }\n      return `${toKebabCase(key)}: ${value};`;\n    }).join(' ');\n    return `${acc}.${buttonClass}${pseudo} { ${propsString} } `;\n  }, '');\n  cssString += Object.entries(keyframes).reduce((acc, [name, frames]) => {\n    const framesString = Object.entries(frames).map(([frame, props]) => {\n      const propsString = Object.entries(props).map(([key, value]) => `${toKebabCase(key)}: ${value};`).join(' ');\n      return `${frame} { ${propsString} }`;\n    }).join(' ');\n    return `${acc} @keyframes ${name} { ${framesString} }`;\n  }, '');\n  return cssString;\n};\n\n/**\r\n * Generates CSS for gallery animations\r\n * @param {Object} animation - Animation configuration\r\n * @param {string} galleryClass - Unique CSS class name\r\n * @returns {string} Generated CSS string\r\n */\nconst getGalleryAnimationCSS = (animation, galleryClass) => {\n  if (!(animation !== null && animation !== void 0 && animation.type)) return '';\n  const animationName = `${animation.type}-${galleryClass}`;\n  const animationCSS = `\n    @keyframes ${animationName} {\n      ${animation.type === 'fadeIn' ? `\n        from { opacity: 0; }\n        to { opacity: 1; }\n      ` : animation.type === 'fadeInUp' ? `\n        from { opacity: 0; transform: translateY(20px); }\n        to { opacity: 1; transform: translateY(0); }\n      ` : animation.type === 'slideInRight' ? `\n        from { transform: translateX(100%); }\n        to { transform: translateX(0); }\n      ` : animation.type === 'bounceIn' ? `\n        0% { opacity: 0; transform: scale(0.3); }\n        50% { opacity: 1; transform: scale(1.05); }\n        70% { transform: scale(0.9); }\n        100% { transform: scale(1); }\n      ` : ''}\n    }\n    .${galleryClass} {\n      animation: ${animationName} ${animation.duration || 800}ms ease-out ${animation.delay || 0}ms;\n    }\n  `;\n  return animationCSS;\n};\n\n/**\r\n * Renders content for different component types\r\n * @param {string} type - Component type\r\n * @param {Object} componentData - Component data\r\n * @param {Object} styles - Style object\r\n * @param {Array} children - Child components\r\n * @param {boolean} isCanvas - Whether in canvas mode\r\n * @param {Function} onSelectChild - Child selection callback\r\n * @param {string} parentId - Parent element ID\r\n * @param {string} childId - Child element ID\r\n * @param {boolean} isTemplateMode - Whether in template mode\r\n * @param {string} viewMode - Current view mode (desktop/tablet/mobile)\r\n * @returns {JSX.Element} Rendered component\r\n */\nexport const renderComponentContent = (type, componentData = {}, styles = {}, children = [], isCanvas = false, onSelectChild = null, parentId = null, childId = null, isTemplateMode = false, viewMode = 'desktop') => {\n  // Validation\n  if (!type || typeof type !== 'string') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: componentData.errorColor || '#ff0000',\n        padding: '10px',\n        border: '1px dashed #ff0000',\n        borderRadius: '4px',\n        ...styles\n      },\n      children: [\"Unknown Component: \", type || 'Không xác định']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 13\n    }, this);\n  }\n\n  // Determine if component should use absolute positioning\n  // Only use absolute for positioned elements that need it\n  const absolutePositionTypes = ['icon', 'square', 'star'];\n  const shouldUseAbsolutePosition = absolutePositionTypes.includes(type.toLowerCase());\n\n  // Base styles with proper position handling\n  // Preserve existing position if set, otherwise use appropriate default\n  const baseStyles = {\n    ...styles,\n    position: styles.position || (shouldUseAbsolutePosition ? 'absolute' : undefined)\n  };\n\n  // Section rendering - This is used by Element.js wrapper, so keep it simple\n  if (type === 'section' && componentData.structure === 'ladi-standard') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ladi-section\",\n      style: {\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        overflow: 'visible'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ladi-container\",\n        style: {\n          position: 'relative',\n          zIndex: 2,\n          width: '100%',\n          height: '100%'\n        },\n        children: children.map((child, index) => {\n          var _child$styles, _child$type, _child$styles2;\n          // Determine if child should use absolute positioning\n          const childNeedsAbsolute = ((_child$styles = child.styles) === null || _child$styles === void 0 ? void 0 : _child$styles.position) === 'absolute' || ['icon', 'square', 'star'].includes((_child$type = child.type) === null || _child$type === void 0 ? void 0 : _child$type.toLowerCase());\n          return React.cloneElement(renderComponentContent(child.type, child.componentData || {}, {\n            ...child.styles,\n            position: childNeedsAbsolute ? 'absolute' : ((_child$styles2 = child.styles) === null || _child$styles2 === void 0 ? void 0 : _child$styles2.position) || 'relative'\n          }, child.children || [], isCanvas, onSelectChild, parentId, child.id, isTemplateMode, viewMode), {\n            key: child.id || index\n          });\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 13\n    }, this);\n  }\n\n  // Component-specific rendering\n  switch (type.toLowerCase()) {\n    case 'square':\n      {\n        var _componentData$size, _componentData$size2, _componentData$size3, _componentData$size4;\n        const {\n          events = {}\n        } = componentData;\n        const handleClick = e => {\n          e.stopPropagation();\n          if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\n            onSelectChild(parentId, childId);\n          }\n          if (events.onClick) {\n            eventController.handleEvent(events.onClick, childId || parentId, isCanvas);\n          }\n        };\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: baseStyles.width || ((_componentData$size = componentData.size) === null || _componentData$size === void 0 ? void 0 : _componentData$size.width) || 50,\n          height: baseStyles.height || ((_componentData$size2 = componentData.size) === null || _componentData$size2 === void 0 ? void 0 : _componentData$size2.height) || 50,\n          style: baseStyles,\n          onClick: handleClick,\n          children: /*#__PURE__*/_jsxDEV(\"rect\", {\n            x: \"0\",\n            y: \"0\",\n            width: baseStyles.width || ((_componentData$size3 = componentData.size) === null || _componentData$size3 === void 0 ? void 0 : _componentData$size3.width) || 50,\n            height: baseStyles.height || ((_componentData$size4 = componentData.size) === null || _componentData$size4 === void 0 ? void 0 : _componentData$size4.height) || 50,\n            fill: baseStyles.fill || componentData.fill || '#000',\n            stroke: baseStyles.stroke || componentData.stroke || 'currentColor',\n            strokeWidth: baseStyles.strokeWidth || componentData.strokeWidth || 2,\n            strokeLinecap: baseStyles.strokeLinecap || componentData.strokeLinecap || 'round',\n            strokeLinejoin: baseStyles.strokeLinejoin || componentData.strokeLinejoin || 'round'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 17\n        }, this);\n      }\n    case 'star':\n      {\n        var _componentData$size5, _componentData$size6;\n        const {\n          events = {}\n        } = componentData;\n        const handleClick = e => {\n          e.stopPropagation();\n          if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\n            onSelectChild(parentId, childId);\n          }\n          if (events.onClick) {\n            eventController.handleEvent(events.onClick, childId || parentId, isCanvas);\n          }\n        };\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: baseStyles.width || ((_componentData$size5 = componentData.size) === null || _componentData$size5 === void 0 ? void 0 : _componentData$size5.width) || 50,\n          height: baseStyles.height || ((_componentData$size6 = componentData.size) === null || _componentData$size6 === void 0 ? void 0 : _componentData$size6.height) || 50,\n          style: baseStyles,\n          onClick: handleClick,\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M25 5 L32 18 H48 L36 29 L41 44 L25 36 L9 44 L14 29 L2 18 H18 Z\",\n            fill: baseStyles.fill || componentData.fill || '#000',\n            stroke: baseStyles.stroke || componentData.stroke || 'currentColor',\n            strokeWidth: baseStyles.strokeWidth || componentData.strokeWidth || 2,\n            strokeLinecap: baseStyles.strokeLinecap || componentData.strokeLinecap || 'round',\n            strokeLinejoin: baseStyles.strokeLinejoin || componentData.strokeLinejoin || 'round'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 17\n        }, this);\n      }\n    case 'layoutgrid':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: componentData.columns ? `repeat(${componentData.columns}, 1fr)` : baseStyles.gridTemplateColumns || 'repeat(2, 1fr)',\n            gap: componentData.gap || baseStyles.gap || '20px',\n            padding: componentData.padding || baseStyles.padding || '10px',\n            background: componentData.background || baseStyles.background || 'transparent',\n            ...baseStyles\n          },\n          children: children.map((child, index) => React.cloneElement(renderComponentContent(child.type, child.componentData || {}, child.styles || {}, child.children || [], isCanvas, onSelectChild, parentId, child.id, isTemplateMode, viewMode), {\n            key: child.id || index\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 17\n        }, this);\n      }\n    case 'icon':\n      {\n        var _componentData$size7, _componentData$size8, _componentData$size9, _componentData$size0;\n        const {\n          icon,\n          events = {},\n          title,\n          imageUrl\n        } = componentData;\n        const uniqueClass = `icon-${parentId || 'root'}-${childId || Date.now()}`;\n        const isSvg = icon && icon.startsWith('<svg');\n        const handleClick = e => {\n          e.stopPropagation();\n          if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\n            onSelectChild(parentId, childId);\n          }\n          if (events.onClick) {\n            eventController.handleEvent(events.onClick, childId || parentId, isCanvas);\n          }\n        };\n        const iconStyles = {\n          ...baseStyles,\n          width: ((_componentData$size7 = componentData.size) === null || _componentData$size7 === void 0 ? void 0 : _componentData$size7.width) || baseStyles.width || '50px',\n          height: ((_componentData$size8 = componentData.size) === null || _componentData$size8 === void 0 ? void 0 : _componentData$size8.height) || baseStyles.height || '50px',\n          display: baseStyles.display || 'flex',\n          alignItems: baseStyles.alignItems || 'center',\n          justifyContent: baseStyles.justifyContent || 'center',\n          cursor: events.onClick ? 'pointer' : 'default'\n        };\n        const cssString = getIconCSS(styles, uniqueClass, !!imageUrl);\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [cssString && /*#__PURE__*/_jsxDEV(\"style\", {\n            children: cssString\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `lpb-icon ${uniqueClass}`,\n            style: iconStyles,\n            onClick: handleClick,\n            title: title || '',\n            children: imageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: imageUrl,\n              alt: title || 'Icon',\n              style: {\n                width: '100%',\n                height: '100%',\n                objectFit: 'contain'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 29\n            }, this) : isSvg ? /*#__PURE__*/_jsxDEV(\"div\", {\n              dangerouslySetInnerHTML: {\n                __html: icon\n              },\n              style: {\n                width: ((_componentData$size9 = componentData.size) === null || _componentData$size9 === void 0 ? void 0 : _componentData$size9.width) || baseStyles.width || '50px',\n                height: ((_componentData$size0 = componentData.size) === null || _componentData$size0 === void 0 ? void 0 : _componentData$size0.height) || baseStyles.height || '50px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 29\n            }, this) : icon && /*#__PURE__*/_jsxDEV(\"i\", {\n              className: icon,\n              style: {\n                fontSize: 'inherit',\n                color: 'inherit'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 584,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true);\n      }\n    case 'heading':\n      {\n        const headingLevel = componentData.level && ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].includes(componentData.level) ? componentData.level : 'h2';\n        const HeadingTag = headingLevel;\n        return /*#__PURE__*/_jsxDEV(HeadingTag, {\n          style: {\n            ...getCleanTextStyles(baseStyles),\n            position: baseStyles.position || 'relative',\n            // ✅ Preserve position\n            fontSize: baseStyles.fontSize || componentData.fontSize || '1.5rem',\n            color: baseStyles.color || componentData.color || '#1f2937',\n            margin: baseStyles.margin || componentData.margin || '0',\n            fontWeight: baseStyles.fontWeight || componentData.fontWeight || '700',\n            textAlign: baseStyles.textAlign || componentData.textAlign || 'left',\n            lineHeight: baseStyles.lineHeight || componentData.lineHeight || '1.4',\n            fontFamily: baseStyles.fontFamily || componentData.fontFamily || 'Arial, sans-serif',\n            fontStyle: baseStyles.fontStyle || componentData.fontStyle || 'normal',\n            textDecoration: baseStyles.textDecoration || componentData.textDecoration || 'none',\n            textTransform: baseStyles.textTransform || componentData.textTransform || 'none',\n            letterSpacing: baseStyles.letterSpacing || componentData.letterSpacing || '0',\n            textShadow: baseStyles.textShadow || componentData.textShadow || 'none',\n            WebkitTextStroke: baseStyles.WebkitTextStroke || componentData.WebkitTextStroke || 'none',\n            WebkitBackgroundClip: baseStyles.WebkitBackgroundClip || componentData.WebkitBackgroundClip || 'initial',\n            WebkitTextFillColor: baseStyles.WebkitTextFillColor || componentData.WebkitTextFillColor || 'initial',\n            zIndex: baseStyles.zIndex || 100,\n            // ✅ Cao hơn background\n            pointerEvents: 'auto' // ✅ CHO PHÉP CLICK\n          },\n          onClick: e => {\n            e.stopPropagation();\n            if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\n              onSelectChild(parentId, childId);\n            }\n          },\n          children: componentData.content || 'Tiêu đề'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 17\n        }, this);\n      }\n    case 'paragraph':\n      {\n        return /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            ...getCleanTextStyles(baseStyles),\n            position: baseStyles.position || 'relative',\n            // ✅ Preserve position\n            fontSize: componentData.fontSize || '1rem',\n            color: componentData.color || '#1f2937',\n            margin: componentData.margin || '0',\n            fontWeight: componentData.fontWeight || '400',\n            lineHeight: componentData.lineHeight || '1.6',\n            textAlign: componentData.textAlign || 'left',\n            zIndex: baseStyles.zIndex || 100,\n            // ✅ Cao hơn background\n            pointerEvents: 'auto' // ✅ CHO PHÉP CLICK\n          },\n          onClick: e => {\n            e.stopPropagation();\n            if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\n              onSelectChild(parentId, childId);\n            }\n          },\n          children: componentData.content || 'Đoạn văn'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 17\n        }, this);\n      }\n    case 'button':\n      {\n        const buttonClass = `button-${componentData.id || Math.random().toString(36).substr(2, 9)}`;\n        const cssString = getButtonCSS(styles, buttonClass);\n        const handleClick = e => {\n          var _componentData$events;\n          e.stopPropagation();\n          if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\n            onSelectChild(parentId, childId);\n          }\n          if ((_componentData$events = componentData.events) !== null && _componentData$events !== void 0 && _componentData$events.onClick) {\n            eventController.handleEvent(componentData.events.onClick, childId || parentId, isCanvas);\n            const event = componentData.events.onClick;\n            if (isCanvas) {\n              if (event.type === 'submitForm') {\n                toast.info(`Mô phỏng: Gửi form đến ${event.apiUrl}`, {\n                  position: 'bottom-right',\n                  autoClose: 2000\n                });\n              } else if (event.type === 'navigate') {\n                toast.info(`Mô phỏng: Điều hướng đến ${event.url}`, {\n                  position: 'bottom-right',\n                  autoClose: 2000\n                });\n              } else if (event.type === 'triggerApi') {\n                toast.info(`Mô phỏng: Gọi API ${event.apiUrl}`, {\n                  position: 'bottom-right',\n                  autoClose: 2000\n                });\n              }\n            } else {\n              if (event.type === 'submitForm') {\n                console.log(`Submitting form to ${event.apiUrl}`);\n              } else if (event.type === 'navigate') {\n                window.location.href = event.url;\n              } else if (event.type === 'triggerApi') {\n                console.log(`Trigger API: ${event.apiUrl}`);\n              }\n            }\n          }\n        };\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [cssString && /*#__PURE__*/_jsxDEV(\"style\", {\n            children: cssString\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 701,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: buttonClass,\n            style: {\n              ...baseStyles,\n              position: baseStyles.position || 'relative',\n              // ✅ Preserve position\n              padding: baseStyles.padding || componentData.padding || '10px 20px',\n              borderRadius: baseStyles.borderRadius || componentData.borderRadius || '8px',\n              background: baseStyles.background || componentData.background || '#2563eb',\n              color: baseStyles.color || componentData.color || '#fff',\n              border: baseStyles.border || componentData.border || 'none',\n              cursor: baseStyles.cursor || 'pointer',\n              fontSize: baseStyles.fontSize || componentData.fontSize || '1rem',\n              fontWeight: baseStyles.fontWeight || componentData.fontWeight || '600',\n              textAlign: baseStyles.textAlign || componentData.textAlign || 'center',\n              display: baseStyles.display || 'inline-flex',\n              alignItems: baseStyles.alignItems || 'center',\n              justifyContent: baseStyles.justifyContent || 'center',\n              transition: baseStyles.transition || 'all 0.3s ease',\n              boxSizing: 'border-box',\n              width: baseStyles.width || 'auto',\n              minWidth: baseStyles.minWidth || 'fit-content',\n              whiteSpace: 'nowrap',\n              zIndex: baseStyles.zIndex || 100,\n              // ✅ Cao hơn background\n              pointerEvents: 'auto' // ✅ CHO PHÉP CLICK\n            },\n            onClick: handleClick,\n            children: componentData.content || 'Nút'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true);\n      }\n    case 'image':\n      {\n        var _componentData$dragga;\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: componentData.src || 'https://via.placeholder.com/150?text=Image',\n          alt: componentData.alt || 'Hình ảnh',\n          style: {\n            maxWidth: componentData.maxWidth || '100%',\n            height: componentData.height || 'auto',\n            borderRadius: componentData.borderRadius || '0',\n            ...baseStyles\n          },\n          draggable: (_componentData$dragga = componentData.draggable) !== null && _componentData$dragga !== void 0 ? _componentData$dragga : false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 17\n        }, this);\n      }\n    case 'form':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: componentData.direction || 'column',\n            gap: componentData.gap || '10px',\n            ...baseStyles\n          },\n          children: [componentData.title && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'heading') && /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              ...getCleanTextStyles(baseStyles),\n              margin: componentData.titleMargin || '0',\n              fontSize: componentData.titleFontSize || '1.2rem',\n              color: componentData.titleColor || '#1f2937',\n              fontWeight: componentData.titleFontWeight || '600'\n            },\n            children: componentData.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 762,\n            columnNumber: 25\n          }, this), Array.isArray(componentData.fields) && componentData.fields.length > 0 ? componentData.fields.map((field, index) => /*#__PURE__*/_jsxDEV(\"input\", {\n            type: field.type || 'text',\n            placeholder: field.placeholder || field.label || 'Nhập...',\n            style: {\n              padding: field.padding || '8px',\n              borderRadius: field.borderRadius || '8px',\n              border: field.border || '1px solid #ccc',\n              fontSize: field.fontSize || '1rem'\n            }\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 776,\n            columnNumber: 29\n          }, this)) : !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'input') && /*#__PURE__*/_jsxDEV(\"input\", {\n            type: componentData.inputType || 'text',\n            placeholder: componentData.placeholder || 'Nhập...',\n            style: {\n              padding: componentData.inputPadding || '8px',\n              borderRadius: componentData.inputBorderRadius || '8px',\n              border: componentData.inputBorder || '1px solid #ccc',\n              fontSize: componentData.inputFontSize || '1rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 790,\n            columnNumber: 29\n          }, this), !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'button') && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              background: componentData.buttonBackground || '#2563eb',\n              color: componentData.buttonColor || '#fff',\n              padding: componentData.buttonPadding || '8px 16px',\n              borderRadius: componentData.buttonBorderRadius || '8px',\n              border: componentData.buttonBorder || 'none',\n              cursor: 'pointer',\n              fontSize: componentData.buttonFontSize || '1rem',\n              fontWeight: componentData.buttonFontWeight || '600'\n            },\n            children: componentData.buttonText || 'Gửi'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 803,\n            columnNumber: 25\n          }, this), children.map((child, index) => React.cloneElement(renderComponentContent(child.type, child.componentData || {}, child.styles || {}, child.children || [], isCanvas, onSelectChild, parentId, child.id, isTemplateMode, viewMode), {\n            key: child.id || index\n          }))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 753,\n          columnNumber: 17\n        }, this);\n      }\n    case 'section':\n    case 'container':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: componentData.layoutType || 'flex',\n            flexDirection: componentData.direction || 'column',\n            gap: componentData.gap || '10px',\n            padding: componentData.padding || '0',\n            background: componentData.background || 'transparent',\n            ...baseStyles\n          },\n          children: [componentData.title && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'heading') && /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              ...getCleanTextStyles(baseStyles),\n              fontSize: componentData.titleFontSize || '1.8rem',\n              margin: componentData.titleMargin || '0',\n              color: componentData.titleColor || '#1f2937',\n              fontWeight: componentData.titleFontWeight || '700'\n            },\n            children: componentData.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 25\n          }, this), componentData.subtitle && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'paragraph') && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              ...getCleanTextStyles(baseStyles),\n              fontSize: componentData.subtitleFontSize || '1.2rem',\n              margin: componentData.subtitleMargin || '0',\n              color: componentData.subtitleColor || '#4b5563'\n            },\n            children: componentData.subtitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 867,\n            columnNumber: 25\n          }, this), componentData.content && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'paragraph') && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              ...getCleanTextStyles(baseStyles),\n              fontSize: componentData.contentFontSize || '1rem',\n              margin: componentData.contentMargin || '0',\n              color: componentData.contentColor || '#4b5563'\n            },\n            children: componentData.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 879,\n            columnNumber: 25\n          }, this), Array.isArray(componentData.features) && componentData.features.length > 0 && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'list') && /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: {\n              listStyle: 'none',\n              padding: componentData.featuresPadding || 0,\n              margin: componentData.featuresMargin || '0',\n              display: 'flex',\n              flexDirection: componentData.featuresDirection || 'column',\n              gap: componentData.featuresGap || '8px'\n            },\n            children: componentData.features.map((feature, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              style: {\n                fontSize: componentData.featureFontSize || '1rem',\n                color: componentData.featureColor || '#1f2937'\n              },\n              children: feature\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 902,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 891,\n            columnNumber: 25\n          }, this), componentData.ctaText && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'button') && /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              padding: componentData.ctaPadding || '10px 20px',\n              borderRadius: componentData.ctaBorderRadius || '8px',\n              background: componentData.ctaBackground || '#2563eb',\n              color: componentData.ctaColor || '#fff',\n              border: componentData.ctaBorder || 'none',\n              cursor: 'pointer',\n              fontSize: componentData.ctaFontSize || '1rem',\n              fontWeight: componentData.ctaFontWeight || '600'\n            },\n            children: componentData.ctaText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 915,\n            columnNumber: 25\n          }, this), componentData.contact && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'paragraph') && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              ...getCleanTextStyles(baseStyles),\n              fontSize: componentData.contactFontSize || '0.9rem',\n              margin: componentData.contactMargin || '0',\n              color: componentData.contactColor || '#4b5563'\n            },\n            children: componentData.contact\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 931,\n            columnNumber: 25\n          }, this), children.map((child, index) => React.cloneElement(renderComponentContent(child.type, child.componentData || {}, child.styles || {}, child.children || [], isCanvas, onSelectChild, parentId, child.id, isTemplateMode, viewMode), {\n            key: child.id || index\n          }))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 843,\n          columnNumber: 17\n        }, this);\n      }\n    case 'divider':\n      {\n        return /*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            border: 'none',\n            background: componentData.color || '#e5e7eb',\n            height: componentData.thickness || '2px',\n            width: componentData.width || '100%',\n            margin: componentData.margin || '0',\n            ...baseStyles\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 965,\n          columnNumber: 17\n        }, this);\n      }\n    case 'spacer':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: componentData.background || 'transparent',\n            height: componentData.height || '40px',\n            width: componentData.width || '100%',\n            ...baseStyles\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 980,\n          columnNumber: 17\n        }, this);\n      }\n    case 'popup':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: componentData.direction || 'column',\n            gap: componentData.gap || '10px',\n            textAlign: componentData.textAlign || 'center',\n            padding: componentData.padding || '20px',\n            background: componentData.background || 'rgba(255, 255, 255, 0.9)',\n            borderRadius: componentData.borderRadius || '12px',\n            ...baseStyles\n          },\n          children: [componentData.title && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'heading') && /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              ...getCleanTextStyles(baseStyles),\n              fontSize: componentData.titleFontSize || '1.5rem',\n              margin: componentData.titleMargin || '0',\n              color: componentData.titleColor || '#1f2937',\n              fontWeight: componentData.titleFontWeight || '600'\n            },\n            children: componentData.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1006,\n            columnNumber: 25\n          }, this), componentData.content && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'paragraph') && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              ...getCleanTextStyles(baseStyles),\n              fontSize: componentData.contentFontSize || '1rem',\n              margin: componentData.contentMargin || '0',\n              color: componentData.contentColor || '#4b5563'\n            },\n            children: componentData.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1019,\n            columnNumber: 25\n          }, this), componentData.buttonText && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'button') && /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              padding: componentData.buttonPadding || '10px 20px',\n              borderRadius: componentData.buttonBorderRadius || '8px',\n              background: componentData.buttonBackground || '#2563eb',\n              color: componentData.buttonColor || '#fff',\n              border: componentData.buttonBorder || 'none',\n              cursor: 'pointer',\n              fontSize: componentData.buttonFontSize || '1rem',\n              fontWeight: componentData.buttonFontWeight || '600'\n            },\n            children: componentData.buttonText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1031,\n            columnNumber: 25\n          }, this), children.map((child, index) => React.cloneElement(renderComponentContent(child.type, child.componentData || {}, child.styles || {}, child.children || [], isCanvas, onSelectChild, parentId, child.id, isTemplateMode, viewMode), {\n            key: child.id || index\n          }))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 993,\n          columnNumber: 17\n        }, this);\n      }\n    case 'modal':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: componentData.direction || 'column',\n            gap: componentData.gap || '10px',\n            padding: componentData.padding || '20px',\n            background: componentData.background || 'rgba(255, 255, 255, 0.9)',\n            borderRadius: componentData.borderRadius || '12px',\n            ...baseStyles\n          },\n          children: [componentData.title && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'heading') && /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              ...getCleanTextStyles(baseStyles),\n              fontSize: componentData.titleFontSize || '1.5rem',\n              margin: componentData.titleMargin || '0',\n              color: componentData.titleColor || '#1f2937',\n              fontWeight: componentData.titleFontWeight || '600'\n            },\n            children: componentData.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1081,\n            columnNumber: 25\n          }, this), componentData.content && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'paragraph') && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              ...getCleanTextStyles(baseStyles),\n              fontSize: componentData.contentFontSize || '1rem',\n              margin: componentData.contentMargin || '0',\n              color: componentData.contentColor || '#4b5563'\n            },\n            children: componentData.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1094,\n            columnNumber: 25\n          }, this), componentData.closeButton && !children.some(child => (child === null || child === void 0 ? void 0 : child.type) === 'button') && /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              padding: componentData.buttonPadding || '8px 16px',\n              borderRadius: componentData.buttonBorderRadius || '8px',\n              background: componentData.buttonBackground || '#6b7280',\n              color: componentData.buttonColor || '#fff',\n              border: componentData.buttonBorder || 'none',\n              cursor: 'pointer',\n              alignSelf: 'flex-end',\n              fontSize: componentData.buttonFontSize || '1rem',\n              fontWeight: componentData.buttonFontWeight || '600'\n            },\n            children: componentData.buttonText || 'Đóng'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1106,\n            columnNumber: 25\n          }, this), children.map((child, index) => React.cloneElement(renderComponentContent(child.type, child.componentData || {}, child.styles || {}, child.children || [], isCanvas, onSelectChild, parentId, child.id, isTemplateMode, viewMode), {\n            key: child.id || index\n          }))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1069,\n          columnNumber: 17\n        }, this);\n      }\n    case 'card':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: componentData.padding || '20px',\n            background: componentData.background || '#ffffff',\n            borderRadius: componentData.borderRadius || '8px',\n            boxShadow: componentData.boxShadow || '0 2px 8px rgba(0,0,0,0.1)',\n            ...baseStyles\n          },\n          children: [componentData.title && /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              ...getCleanTextStyles(baseStyles),\n              fontSize: componentData.titleFontSize || '1.2rem',\n              margin: componentData.titleMargin || '0',\n              color: componentData.titleColor || '#1f2937'\n            },\n            children: componentData.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1155,\n            columnNumber: 25\n          }, this), componentData.content && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              ...getCleanTextStyles(baseStyles),\n              fontSize: componentData.contentFontSize || '1rem',\n              margin: componentData.contentMargin || '10px 0 0',\n              color: componentData.contentColor || '#4b5563'\n            },\n            children: componentData.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1167,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1145,\n          columnNumber: 17\n        }, this);\n      }\n    case 'grid':\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: componentData.columns ? `repeat(${componentData.columns}, 1fr)` : 'repeat(2, 1fr)',\n            gap: componentData.gap || '20px',\n            ...baseStyles\n          },\n          children: Array.isArray(componentData.items) && componentData.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: componentData.itemBackground || '#ffffff',\n              borderRadius: componentData.itemBorderRadius || '8px',\n              padding: componentData.itemPadding || '10px'\n            },\n            children: [item.image && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.image,\n              alt: item.title || 'Product',\n              style: {\n                maxWidth: '100%',\n                height: 'auto'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1203,\n              columnNumber: 37\n            }, this), item.title && /*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                ...getCleanTextStyles(baseStyles),\n                fontSize: componentData.titleFontSize || '1rem',\n                margin: componentData.titleMargin || '10px 0 0',\n                color: componentData.titleColor || '#1f2937'\n              },\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1210,\n              columnNumber: 37\n            }, this), item.price && /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                ...getCleanTextStyles(baseStyles),\n                fontSize: componentData.priceFontSize || '0.9rem',\n                margin: componentData.priceMargin || '5px 0 0',\n                color: componentData.priceColor || '#4b5563'\n              },\n              children: item.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1222,\n              columnNumber: 37\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1194,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1184,\n          columnNumber: 17\n        }, this);\n      }\n    case 'list':\n      {\n        return /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            listStyleType: componentData.listStyleType || 'none',\n            padding: componentData.padding || '0',\n            ...baseStyles\n          },\n          children: Array.isArray(componentData.items) && componentData.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            style: {\n              ...getCleanTextStyles(baseStyles),\n              fontSize: componentData.itemFontSize || '1rem',\n              margin: componentData.itemMargin || '5px 0',\n              color: componentData.itemColor || '#1f2937'\n            },\n            children: item.title || item\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1250,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1241,\n          columnNumber: 17\n        }, this);\n      }\n    case 'gallery':\n      {\n        var _componentData$events2;\n        const {\n          images = [],\n          animation = {}\n        } = componentData;\n        const galleryClass = `gallery-${parentId || 'root'}-${childId || Date.now()}`;\n        const animationCSS = getGalleryAnimationCSS(animation, galleryClass);\n        const handleImageClick = (e, imageUrl, index) => {\n          e.stopPropagation();\n          if (isCanvas) {\n            if (typeof onSelectChild === 'function' && parentId && childId) {\n              onSelectChild(parentId, childId);\n            }\n            toast.info(`Mô phỏng: Mở lightbox cho ảnh ${index + 1}`, {\n              position: 'bottom-right',\n              autoClose: 2000\n            });\n          } else {\n            console.log(`Open image: ${imageUrl}`);\n          }\n        };\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [animationCSS && /*#__PURE__*/_jsxDEV(\"style\", {\n            children: animationCSS\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1288,\n            columnNumber: 38\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `lpb-gallery ${galleryClass}`,\n            style: {\n              ...baseStyles,\n              cursor: (_componentData$events2 = componentData.events) !== null && _componentData$events2 !== void 0 && _componentData$events2.onClick ? 'pointer' : 'default'\n            },\n            onClick: e => {\n              e.stopPropagation();\n              if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\n                onSelectChild(parentId, childId);\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: baseStyles.display || 'grid',\n                gridTemplateColumns: baseStyles.gridTemplateColumns || 'repeat(auto-fill, minmax(150px, 1fr))',\n                gap: baseStyles.gap || '10px',\n                width: '100%'\n              },\n              children: images.map((imageUrl, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: 'relative',\n                  overflow: 'hidden',\n                  borderRadius: baseStyles.borderRadius || '8px',\n                  aspectRatio: '1 / 1',\n                  cursor: 'pointer',\n                  transition: 'transform 0.3s ease'\n                },\n                onClick: e => handleImageClick(e, imageUrl, index),\n                onMouseEnter: e => {\n                  var _componentData$events3, _componentData$events4;\n                  if (((_componentData$events3 = componentData.events) === null || _componentData$events3 === void 0 ? void 0 : (_componentData$events4 = _componentData$events3.onHover) === null || _componentData$events4 === void 0 ? void 0 : _componentData$events4.type) === 'zoomIn') {\n                    e.currentTarget.style.transform = 'scale(1.05)';\n                  }\n                },\n                onMouseLeave: e => {\n                  var _componentData$events5, _componentData$events6;\n                  if (((_componentData$events5 = componentData.events) === null || _componentData$events5 === void 0 ? void 0 : (_componentData$events6 = _componentData$events5.onHover) === null || _componentData$events6 === void 0 ? void 0 : _componentData$events6.type) === 'zoomIn') {\n                    e.currentTarget.style.transform = 'scale(1)';\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: imageUrl || 'https://via.placeholder.com/150',\n                  alt: `Gallery ${index + 1}`,\n                  style: {\n                    width: '100%',\n                    height: '100%',\n                    objectFit: 'cover'\n                  },\n                  loading: \"lazy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1333,\n                  columnNumber: 37\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1311,\n                columnNumber: 33\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1302,\n              columnNumber: 25\n            }, this), children.map((child, index) => React.cloneElement(renderComponentContent(child.type, child.componentData || {}, child.styles || {}, child.children || [], isCanvas, onSelectChild, parentId, child.id, isTemplateMode, viewMode), {\n              key: child.id || index\n            }))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1289,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true);\n      }\n    default:\n      {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: componentData.errorColor || '#ff0000',\n            padding: '10px',\n            border: '1px dashed #ff0000',\n            borderRadius: '4px',\n            ...baseStyles\n          },\n          children: [\"Unknown Component: \", type]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1370,\n          columnNumber: 17\n        }, this);\n      }\n  }\n};\n\n// PropTypes for type checking\nrenderComponentContent.propTypes = {\n  type: PropTypes.string.isRequired,\n  componentData: PropTypes.object,\n  styles: PropTypes.object,\n  children: PropTypes.array,\n  isCanvas: PropTypes.bool,\n  onSelectChild: PropTypes.func,\n  parentId: PropTypes.string,\n  childId: PropTypes.string,\n  isTemplateMode: PropTypes.bool,\n  viewMode: PropTypes.string\n};\ngetCanvasPosition.propTypes = {\n  mouseX: PropTypes.number.isRequired,\n  mouseY: PropTypes.number.isRequired,\n  containerElement: PropTypes.instanceOf(Element),\n  zoomLevel: PropTypes.number.isRequired\n};\nsnapToGrid.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  gridSize: PropTypes.number.isRequired,\n  snapPoints: PropTypes.arrayOf(PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number\n  }))\n};\ngetElementBounds.propTypes = {\n  element: PropTypes.shape({\n    position: PropTypes.shape({\n      desktop: PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number\n      })\n    }),\n    size: PropTypes.shape({\n      width: PropTypes.number,\n      height: PropTypes.number\n    })\n  }).isRequired\n};\nprocessStyles.propTypes = {\n  styles: PropTypes.object.isRequired,\n  className: PropTypes.string.isRequired\n};","map":{"version":3,"names":["PropTypes","toast","sections","eventController","jsxDEV","_jsxDEV","Fragment","_Fragment","ItemTypes","ELEMENT","EXISTING_ELEMENT","CHILD_ELEMENT","toKebabCase","str","replace","m","toLowerCase","getCanvasPosition","mouseX","mouseY","containerElement","zoomLevel","console","error","x","y","rect","getBoundingClientRect","scrollX","scrollLeft","scrollY","scrollTop","rawX","left","rawY","top","Math","max","snapToGrid","gridSize","snapPoints","snappedX","round","snappedY","forEach","point","abs","getElementBounds","element","_element$position","_element$position$des","_element$position2","_element$position2$de","_element$position3","_element$position3$de","_element$size","_element$position4","_element$position4$de","_element$size2","_element$position5","_element$position5$de","_element$size3","_element$position6","_element$position6$de","_element$size4","position","desktop","right","size","width","bottom","height","centerX","centerY","processStyles","styles","className","cssString","keyframes","Object","entries","key","value","startsWith","prop","val","p","v","frames","percentage","props","getCleanTextStyles","originalStyles","cleaned","propertiesToRemove","margin","boxSizing","display","getIconCSS","uniqueClass","hasImage","hoverCSS","activeCSS","keyframesCSS","iconStyles","hoverStyles","activeStyles","keys","animationName","trim","length","imgCSS","zIndex","isolation","stroke","strokeWidth","strokeLinecap","strokeLinejoin","getButtonCSS","buttonClass","buttonStyles","pseudoStyles","reduce","acc","pseudo","propsString","map","subPropsString","k","join","name","framesString","frame","getGalleryAnimationCSS","animation","galleryClass","type","animationCSS","duration","delay","renderComponentContent","componentData","children","isCanvas","onSelectChild","parentId","childId","isTemplateMode","viewMode","style","color","errorColor","padding","border","borderRadius","fileName","_jsxFileName","lineNumber","columnNumber","absolutePositionTypes","shouldUseAbsolutePosition","includes","baseStyles","undefined","structure","overflow","child","index","_child$styles","_child$type","_child$styles2","childNeedsAbsolute","React","cloneElement","id","_componentData$size","_componentData$size2","_componentData$size3","_componentData$size4","events","handleClick","e","stopPropagation","onClick","handleEvent","fill","_componentData$size5","_componentData$size6","d","gridTemplateColumns","columns","gap","background","_componentData$size7","_componentData$size8","_componentData$size9","_componentData$size0","icon","title","imageUrl","Date","now","isSvg","alignItems","justifyContent","cursor","src","alt","objectFit","dangerouslySetInnerHTML","__html","fontSize","headingLevel","level","HeadingTag","fontWeight","textAlign","lineHeight","fontFamily","fontStyle","textDecoration","textTransform","letterSpacing","textShadow","WebkitTextStroke","WebkitBackgroundClip","WebkitTextFillColor","pointerEvents","content","random","toString","substr","_componentData$events","event","info","apiUrl","autoClose","url","log","window","location","href","transition","minWidth","whiteSpace","_componentData$dragga","maxWidth","draggable","flexDirection","direction","some","titleMargin","titleFontSize","titleColor","titleFontWeight","Array","isArray","fields","field","placeholder","label","inputType","inputPadding","inputBorderRadius","inputBorder","inputFontSize","buttonBackground","buttonColor","buttonPadding","buttonBorderRadius","buttonBorder","buttonFontSize","buttonFontWeight","buttonText","layoutType","subtitle","subtitleFontSize","subtitleMargin","subtitleColor","contentFontSize","contentMargin","contentColor","features","listStyle","featuresPadding","featuresMargin","featuresDirection","featuresGap","feature","featureFontSize","featureColor","ctaText","ctaPadding","ctaBorderRadius","ctaBackground","ctaColor","ctaBorder","ctaFontSize","ctaFontWeight","contact","contactFontSize","contactMargin","contactColor","thickness","closeButton","alignSelf","boxShadow","items","item","itemBackground","itemBorderRadius","itemPadding","image","price","priceFontSize","priceMargin","priceColor","listStyleType","itemFontSize","itemMargin","itemColor","_componentData$events2","images","handleImageClick","aspectRatio","onMouseEnter","_componentData$events3","_componentData$events4","onHover","currentTarget","transform","onMouseLeave","_componentData$events5","_componentData$events6","loading","propTypes","string","isRequired","object","array","bool","func","number","instanceOf","Element","arrayOf","shape"],"sources":["F:/landinghub-iconic/apps/web/src/components/create-page/helpers.js"],"sourcesContent":["import PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport { sections } from '../../constants/sections';\r\nimport eventController from '../../utils/EventUtils';\r\n\r\n// Constants\r\n/**\r\n * Item types for drag-and-drop functionality\r\n */\r\nexport const ItemTypes = {\r\n    ELEMENT: 'element',\r\n    EXISTING_ELEMENT: 'existingElement',\r\n    CHILD_ELEMENT: 'childElement',\r\n};\r\n\r\n// Utilities\r\n/**\r\n * Converts camelCase to kebab-case for CSS properties\r\n * @param {string} str - The camelCase string\r\n * @returns {string} The kebab-case string\r\n */\r\nconst toKebabCase = (str) =>\r\n    str.replace(/[A-Z]/g, (m) => `-${m.toLowerCase()}`);\r\n\r\n/**\r\n * Calculates precise coordinates within a canvas or section\r\n * @param {number} mouseX - Mouse X coordinate\r\n * @param {number} mouseY - Mouse Y coordinate\r\n * @param {HTMLElement} containerElement - The container element\r\n * @param {number} zoomLevel - Zoom level percentage\r\n * @returns {Object} Coordinates { x, y }\r\n */\r\nexport const getCanvasPosition = (mouseX, mouseY, containerElement, zoomLevel) => {\r\n    if (!containerElement) {\r\n        console.error('Container element is null in getCanvasPosition');\r\n        return { x: 0, y: 0 };\r\n    }\r\n\r\n    const rect = containerElement.getBoundingClientRect();\r\n    const scrollX = containerElement.scrollLeft || 0;\r\n    const scrollY = containerElement.scrollTop || 0;\r\n\r\n    const rawX = (mouseX - rect.left + scrollX) / (zoomLevel / 100);\r\n    const rawY = (mouseY - rect.top + scrollY) / (zoomLevel / 100);\r\n\r\n    return { x: Math.max(0, rawX), y: Math.max(0, rawY) };\r\n};\r\n\r\n\r\n/**\r\n * Snaps coordinates to grid or nearby snap points\r\n * @param {number} x - X coordinate\r\n * @param {number} y - Y coordinate\r\n * @param {number} gridSize - Size of the grid\r\n * @param {Array<Object>} snapPoints - Array of snap points { x, y }\r\n * @returns {Object} Snapped coordinates { x, y }\r\n */\r\nexport const snapToGrid = (x, y, gridSize, snapPoints = []) => {\r\n    let snappedX = Math.round(x / gridSize) * gridSize;\r\n    let snappedY = Math.round(y / gridSize) * gridSize;\r\n\r\n    snapPoints.forEach((point) => {\r\n        if (Math.abs(x - point.x) < 15) snappedX = point.x;\r\n        if (Math.abs(y - point.y) < 15) snappedY = point.y;\r\n    });\r\n\r\n    return { x: snappedX, y: snappedY };\r\n};\r\n\r\n/**\r\n * Calculates bounds of an element for snapping\r\n * @param {Object} element - Element object with position and size\r\n * @returns {Object} Bounds { left, top, right, bottom, centerX, centerY }\r\n */\r\nexport const getElementBounds = (element) => ({\r\n    left: element.position?.desktop?.x || 0,\r\n    top: element.position?.desktop?.y || 0,\r\n    right: (element.position?.desktop?.x || 0) + (element.size?.width || 200),\r\n    bottom: (element.position?.desktop?.y || 0) + (element.size?.height || 50),\r\n    centerX: (element.position?.desktop?.x || 0) + (element.size?.width || 200) / 2,\r\n    centerY: (element.position?.desktop?.y || 0) + (element.size?.height || 50) / 2,\r\n});\r\n\r\n/**\r\n * Processes styles including pseudo-classes and keyframes into CSS string\r\n * @param {Object} styles - Style object\r\n * @param {string} className - CSS class name\r\n * @returns {string} Generated CSS string\r\n */\r\nexport const processStyles = (styles, className) => {\r\n    let cssString = '';\r\n    const keyframes = {};\r\n\r\n    Object.entries(styles).forEach(([key, value]) => {\r\n        if (key.startsWith(':')) {\r\n            cssString += `.${className}${key} { `;\r\n            Object.entries(value).forEach(([prop, val]) => {\r\n                if (prop.startsWith('::')) {\r\n                    cssString += `.${className}${prop} { `;\r\n                    Object.entries(val).forEach(([p, v]) => {\r\n                        cssString += `${toKebabCase(p)}: ${v}; `;\r\n                    });\r\n                    cssString += '} ';\r\n                } else {\r\n                    cssString += `${toKebabCase(prop)}: ${val}; `;\r\n                }\r\n            });\r\n            cssString += '} ';\r\n        } else if (key.startsWith('@keyframes')) {\r\n            keyframes[key] = value;\r\n        } else {\r\n            cssString += `${toKebabCase(key)}: ${value}; `;\r\n        }\r\n    });\r\n\r\n    Object.entries(keyframes).forEach(([key, frames]) => {\r\n        cssString += `${key} { `;\r\n        Object.entries(frames).forEach(([percentage, props]) => {\r\n            cssString += `${percentage} { `;\r\n            Object.entries(props).forEach(([prop, val]) => {\r\n                cssString += `${toKebabCase(prop)}: ${val}; `;\r\n            });\r\n            cssString += '} ';\r\n        });\r\n        cssString += '} ';\r\n    });\r\n\r\n    return cssString;\r\n};\r\n\r\n// Component Rendering\r\n/**\r\n * Cleans styles for text-based elements by removing incompatible properties\r\n * @param {Object} originalStyles - Original style object\r\n * @returns {Object} Cleaned style object\r\n */\r\nconst getCleanTextStyles = (originalStyles) => {\r\n    const cleaned = { ...originalStyles };\r\n    const propertiesToRemove = [\r\n        'border',\r\n        'borderRadius',\r\n        'boxShadow',\r\n        'backgroundColor',\r\n        'background',\r\n        'backgroundImage',\r\n        'backgroundSize',\r\n        'backgroundPosition',\r\n        'padding',\r\n        'paddingLeft',\r\n        'paddingRight',\r\n        'paddingTop',\r\n        'paddingBottom',\r\n    ];\r\n\r\n    propertiesToRemove.forEach((prop) => delete cleaned[prop]);\r\n\r\n    return {\r\n        ...cleaned,\r\n        margin: cleaned.margin || '0',\r\n        boxSizing: 'border-box',\r\n        display: cleaned.display || 'block',\r\n        width: cleaned.width || '100%',\r\n        height: cleaned.height || 'auto',\r\n    };\r\n};\r\n\r\n/**\r\n * Generates CSS for icon component with pseudo-classes and keyframes\r\n * @param {Object} styles - Style object\r\n * @param {string} uniqueClass - Unique CSS class name\r\n * @param {boolean} hasImage - Whether the icon uses an image\r\n * @returns {string} Generated CSS string\r\n */\r\nconst getIconCSS = (styles, uniqueClass, hasImage) => {\r\n    let hoverCSS = '';\r\n    let activeCSS = '';\r\n    let keyframesCSS = '';\r\n\r\n    const iconStyles = { ...styles };\r\n    const hoverStyles = iconStyles[':hover'] || {};\r\n    const activeStyles = iconStyles[':active'] || {};\r\n\r\n    delete iconStyles[':hover'];\r\n    delete iconStyles[':active'];\r\n\r\n    Object.keys(iconStyles).forEach((key) => {\r\n        if (key.startsWith('@keyframes')) {\r\n            const animationName = key.replace('@keyframes ', '').trim();\r\n            const frames = iconStyles[key];\r\n            keyframesCSS += `@keyframes ${animationName} {`;\r\n            Object.entries(frames).forEach(([percentage, props]) => {\r\n                keyframesCSS += `${percentage} {`;\r\n                Object.entries(props).forEach(([prop, val]) => {\r\n                    keyframesCSS += `${toKebabCase(prop)}: ${val};`;\r\n                });\r\n                keyframesCSS += '}';\r\n            });\r\n            keyframesCSS += '}';\r\n            delete iconStyles[key];\r\n        }\r\n    });\r\n\r\n    if (Object.keys(hoverStyles).length > 0) {\r\n        hoverCSS = `.${uniqueClass}:hover {`;\r\n        Object.entries(hoverStyles).forEach(([key, value]) => {\r\n            hoverCSS += `${toKebabCase(key)}: ${value};`;\r\n        });\r\n        hoverCSS += '}';\r\n    }\r\n\r\n    if (Object.keys(activeStyles).length > 0) {\r\n        activeCSS = `.${uniqueClass}:active {`;\r\n        Object.entries(activeStyles).forEach(([key, value]) => {\r\n            activeCSS += `${toKebabCase(key)}: ${value};`;\r\n        });\r\n        activeCSS += '}';\r\n    }\r\n\r\n    const imgCSS = hasImage\r\n        ? `\r\n        .${uniqueClass} img {\r\n          width: 100%;\r\n          height: 100%;\r\n          object-fit: contain;\r\n        }\r\n      `\r\n        : '';\r\n\r\n    return `\r\n    .${uniqueClass} {\r\n      position: absolute;\r\n      z-index: ${iconStyles.zIndex || 10};\r\n      isolation: ${iconStyles.isolation || 'isolate'};\r\n    }\r\n    .${uniqueClass} svg {\r\n      width: 100%;\r\n      height: 100%;\r\n      fill: none;\r\n      stroke: ${iconStyles.stroke || 'currentColor'};\r\n      stroke-width: ${iconStyles.strokeWidth || 2};\r\n      stroke-linecap: ${iconStyles.strokeLinecap || 'round'};\r\n      stroke-linejoin: ${iconStyles.strokeLinejoin || 'round'};\r\n    }\r\n    ${imgCSS}\r\n    ${hoverCSS}\r\n    ${activeCSS}\r\n    ${keyframesCSS}\r\n  `;\r\n};\r\n\r\n/**\r\n * Generates CSS for button component with pseudo-classes and keyframes\r\n * @param {Object} styles - Style object\r\n * @param {string} buttonClass - Unique CSS class name\r\n * @returns {string} Generated CSS string\r\n */\r\nconst getButtonCSS = (styles, buttonClass) => {\r\n    const buttonStyles = { ...styles };\r\n    const pseudoStyles = {\r\n        ':hover': buttonStyles[':hover'] || {},\r\n        ':active': buttonStyles[':active'] || {},\r\n    };\r\n    const keyframes = {};\r\n\r\n    delete buttonStyles[':hover'];\r\n    delete buttonStyles[':active'];\r\n\r\n    Object.keys(buttonStyles).forEach((key) => {\r\n        if (key.startsWith('@keyframes')) {\r\n            keyframes[key.replace('@keyframes ', '').trim()] = buttonStyles[key];\r\n            delete buttonStyles[key];\r\n        }\r\n    });\r\n\r\n    let cssString = Object.entries(pseudoStyles).reduce((acc, [pseudo, props]) => {\r\n        if (Object.keys(props).length === 0) return acc;\r\n        const propsString = Object.entries(props).map(([key, value]) => {\r\n            if (key.startsWith('::')) {\r\n                const subPropsString = Object.entries(value).map(([k, v]) => `${toKebabCase(k)}: ${v};`).join(' ');\r\n                return `.${buttonClass}${key} { ${subPropsString} }`;\r\n            }\r\n            return `${toKebabCase(key)}: ${value};`;\r\n        }).join(' ');\r\n        return `${acc}.${buttonClass}${pseudo} { ${propsString} } `;\r\n    }, '');\r\n\r\n    cssString += Object.entries(keyframes).reduce((acc, [name, frames]) => {\r\n        const framesString = Object.entries(frames).map(([frame, props]) => {\r\n            const propsString = Object.entries(props).map(([key, value]) => `${toKebabCase(key)}: ${value};`).join(' ');\r\n            return `${frame} { ${propsString} }`;\r\n        }).join(' ');\r\n        return `${acc} @keyframes ${name} { ${framesString} }`;\r\n    }, '');\r\n\r\n    return cssString;\r\n};\r\n\r\n/**\r\n * Generates CSS for gallery animations\r\n * @param {Object} animation - Animation configuration\r\n * @param {string} galleryClass - Unique CSS class name\r\n * @returns {string} Generated CSS string\r\n */\r\nconst getGalleryAnimationCSS = (animation, galleryClass) => {\r\n    if (!animation?.type) return '';\r\n\r\n    const animationName = `${animation.type}-${galleryClass}`;\r\n    const animationCSS = `\r\n    @keyframes ${animationName} {\r\n      ${animation.type === 'fadeIn' ? `\r\n        from { opacity: 0; }\r\n        to { opacity: 1; }\r\n      ` : animation.type === 'fadeInUp' ? `\r\n        from { opacity: 0; transform: translateY(20px); }\r\n        to { opacity: 1; transform: translateY(0); }\r\n      ` : animation.type === 'slideInRight' ? `\r\n        from { transform: translateX(100%); }\r\n        to { transform: translateX(0); }\r\n      ` : animation.type === 'bounceIn' ? `\r\n        0% { opacity: 0; transform: scale(0.3); }\r\n        50% { opacity: 1; transform: scale(1.05); }\r\n        70% { transform: scale(0.9); }\r\n        100% { transform: scale(1); }\r\n      ` : ''}\r\n    }\r\n    .${galleryClass} {\r\n      animation: ${animationName} ${animation.duration || 800}ms ease-out ${animation.delay || 0}ms;\r\n    }\r\n  `;\r\n\r\n    return animationCSS;\r\n};\r\n\r\n/**\r\n * Renders content for different component types\r\n * @param {string} type - Component type\r\n * @param {Object} componentData - Component data\r\n * @param {Object} styles - Style object\r\n * @param {Array} children - Child components\r\n * @param {boolean} isCanvas - Whether in canvas mode\r\n * @param {Function} onSelectChild - Child selection callback\r\n * @param {string} parentId - Parent element ID\r\n * @param {string} childId - Child element ID\r\n * @param {boolean} isTemplateMode - Whether in template mode\r\n * @param {string} viewMode - Current view mode (desktop/tablet/mobile)\r\n * @returns {JSX.Element} Rendered component\r\n */\r\nexport const renderComponentContent = (\r\n    type,\r\n    componentData = {},\r\n    styles = {},\r\n    children = [],\r\n    isCanvas = false,\r\n    onSelectChild = null,\r\n    parentId = null,\r\n    childId = null,\r\n    isTemplateMode = false,\r\n    viewMode = 'desktop'\r\n) => {\r\n    // Validation\r\n    if (!type || typeof type !== 'string') {\r\n        return (\r\n            <div\r\n                style={{\r\n                    color: componentData.errorColor || '#ff0000',\r\n                    padding: '10px',\r\n                    border: '1px dashed #ff0000',\r\n                    borderRadius: '4px',\r\n                    ...styles,\r\n                }}\r\n            >\r\n                Unknown Component: {type || 'Không xác định'}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Determine if component should use absolute positioning\r\n    // Only use absolute for positioned elements that need it\r\n    const absolutePositionTypes = ['icon', 'square', 'star'];\r\n    const shouldUseAbsolutePosition = absolutePositionTypes.includes(type.toLowerCase());\r\n\r\n    // Base styles with proper position handling\r\n    // Preserve existing position if set, otherwise use appropriate default\r\n    const baseStyles = {\r\n        ...styles,\r\n        position: styles.position || (shouldUseAbsolutePosition ? 'absolute' : undefined),\r\n    };\r\n\r\n    // Section rendering - This is used by Element.js wrapper, so keep it simple\r\n    if (type === 'section' && componentData.structure === 'ladi-standard') {\r\n        return (\r\n            <div className=\"ladi-section\" style={{\r\n                position: 'relative',\r\n                width: '100%',\r\n                height: '100%',\r\n                overflow: 'visible',\r\n            }}>\r\n                {/* Background and overlay are handled by Element.js wrapper */}\r\n                <div\r\n                    className=\"ladi-container\"\r\n                    style={{\r\n                        position: 'relative',\r\n                        zIndex: 2,\r\n                        width: '100%',\r\n                        height: '100%',\r\n                    }}\r\n                >\r\n                    {children.map((child, index) => {\r\n                        // Determine if child should use absolute positioning\r\n                        const childNeedsAbsolute = child.styles?.position === 'absolute' ||\r\n                            ['icon', 'square', 'star'].includes(child.type?.toLowerCase());\r\n\r\n                        return React.cloneElement(\r\n                            renderComponentContent(\r\n                                child.type,\r\n                                child.componentData || {},\r\n                                {\r\n                                    ...child.styles,\r\n                                    position: childNeedsAbsolute ? 'absolute' : (child.styles?.position || 'relative'),\r\n                                },\r\n                                child.children || [],\r\n                                isCanvas,\r\n                                onSelectChild,\r\n                                parentId,\r\n                                child.id,\r\n                                isTemplateMode,\r\n                                viewMode\r\n                            ),\r\n                            { key: child.id || index }\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Component-specific rendering\r\n    switch (type.toLowerCase()) {\r\n        case 'square': {\r\n            const { events = {} } = componentData;\r\n            const handleClick = (e) => {\r\n                e.stopPropagation();\r\n                if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\r\n                    onSelectChild(parentId, childId);\r\n                }\r\n                if (events.onClick) {\r\n                    eventController.handleEvent(events.onClick, childId || parentId, isCanvas);\r\n                }\r\n            };\r\n\r\n            return (\r\n                <svg\r\n                    width={baseStyles.width || componentData.size?.width || 50}\r\n                    height={baseStyles.height || componentData.size?.height || 50}\r\n                    style={baseStyles}\r\n                    onClick={handleClick}\r\n                >\r\n                    <rect\r\n                        x=\"0\"\r\n                        y=\"0\"\r\n                        width={baseStyles.width || componentData.size?.width || 50}\r\n                        height={baseStyles.height || componentData.size?.height || 50}\r\n                        fill={baseStyles.fill || componentData.fill || '#000'}\r\n                        stroke={baseStyles.stroke || componentData.stroke || 'currentColor'}\r\n                        strokeWidth={baseStyles.strokeWidth || componentData.strokeWidth || 2}\r\n                        strokeLinecap={baseStyles.strokeLinecap || componentData.strokeLinecap || 'round'}\r\n                        strokeLinejoin={baseStyles.strokeLinejoin || componentData.strokeLinejoin || 'round'}\r\n                    />\r\n                </svg>\r\n            );\r\n        }\r\n\r\n        case 'star': {\r\n            const { events = {} } = componentData;\r\n            const handleClick = (e) => {\r\n                e.stopPropagation();\r\n                if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\r\n                    onSelectChild(parentId, childId);\r\n                }\r\n                if (events.onClick) {\r\n                    eventController.handleEvent(events.onClick, childId || parentId, isCanvas);\r\n                }\r\n            };\r\n\r\n            return (\r\n                <svg\r\n                    width={baseStyles.width || componentData.size?.width || 50}\r\n                    height={baseStyles.height || componentData.size?.height || 50}\r\n                    style={baseStyles}\r\n                    onClick={handleClick}\r\n                >\r\n                    <path\r\n                        d=\"M25 5 L32 18 H48 L36 29 L41 44 L25 36 L9 44 L14 29 L2 18 H18 Z\"\r\n                        fill={baseStyles.fill || componentData.fill || '#000'}\r\n                        stroke={baseStyles.stroke || componentData.stroke || 'currentColor'}\r\n                        strokeWidth={baseStyles.strokeWidth || componentData.strokeWidth || 2}\r\n                        strokeLinecap={baseStyles.strokeLinecap || componentData.strokeLinecap || 'round'}\r\n                        strokeLinejoin={baseStyles.strokeLinejoin || componentData.strokeLinejoin || 'round'}\r\n                    />\r\n                </svg>\r\n            );\r\n        }\r\n\r\n        case 'layoutgrid': {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        display: 'grid',\r\n                        gridTemplateColumns: componentData.columns\r\n                            ? `repeat(${componentData.columns}, 1fr)`\r\n                            : baseStyles.gridTemplateColumns || 'repeat(2, 1fr)',\r\n                        gap: componentData.gap || baseStyles.gap || '20px',\r\n                        padding: componentData.padding || baseStyles.padding || '10px',\r\n                        background: componentData.background || baseStyles.background || 'transparent',\r\n                        ...baseStyles,\r\n                    }}\r\n                >\r\n                    {children.map((child, index) =>\r\n                        React.cloneElement(\r\n                            renderComponentContent(\r\n                                child.type,\r\n                                child.componentData || {},\r\n                                child.styles || {},\r\n                                child.children || [],\r\n                                isCanvas,\r\n                                onSelectChild,\r\n                                parentId,\r\n                                child.id,\r\n                                isTemplateMode,\r\n                                viewMode\r\n                            ),\r\n                            { key: child.id || index }\r\n                        )\r\n                    )}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        case 'icon': {\r\n            const { icon, events = {}, title, imageUrl } = componentData;\r\n            const uniqueClass = `icon-${parentId || 'root'}-${childId || Date.now()}`;\r\n            const isSvg = icon && icon.startsWith('<svg');\r\n\r\n            const handleClick = (e) => {\r\n                e.stopPropagation();\r\n                if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\r\n                    onSelectChild(parentId, childId);\r\n                }\r\n                if (events.onClick) {\r\n                    eventController.handleEvent(events.onClick, childId || parentId, isCanvas);\r\n                }\r\n            };\r\n\r\n            const iconStyles = {\r\n                ...baseStyles,\r\n                width: componentData.size?.width || baseStyles.width || '50px',\r\n                height: componentData.size?.height || baseStyles.height || '50px',\r\n                display: baseStyles.display || 'flex',\r\n                alignItems: baseStyles.alignItems || 'center',\r\n                justifyContent: baseStyles.justifyContent || 'center',\r\n                cursor: events.onClick ? 'pointer' : 'default',\r\n            };\r\n\r\n            const cssString = getIconCSS(styles, uniqueClass, !!imageUrl);\r\n\r\n            return (\r\n                <>\r\n                    {cssString && <style>{cssString}</style>}\r\n                    <div className={`lpb-icon ${uniqueClass}`} style={iconStyles} onClick={handleClick} title={title || ''}>\r\n                        {imageUrl ? (\r\n                            <img src={imageUrl} alt={title || 'Icon'} style={{ width: '100%', height: '100%', objectFit: 'contain' }} />\r\n                        ) : isSvg ? (\r\n                            <div\r\n                                dangerouslySetInnerHTML={{ __html: icon }}\r\n                                style={{\r\n                                    width: componentData.size?.width || baseStyles.width || '50px',\r\n                                    height: componentData.size?.height || baseStyles.height || '50px',\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                }}\r\n                            />\r\n                        ) : (\r\n                            icon && <i className={icon} style={{ fontSize: 'inherit', color: 'inherit' }} />\r\n                        )}\r\n                    </div>\r\n                </>\r\n            );\r\n        }\r\n\r\n        case 'heading': {\r\n            const headingLevel = componentData.level && ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].includes(componentData.level)\r\n                ? componentData.level\r\n                : 'h2';\r\n            const HeadingTag = headingLevel;\r\n            return (\r\n                <HeadingTag\r\n                    style={{\r\n                        ...getCleanTextStyles(baseStyles),\r\n                        position: baseStyles.position || 'relative',  // ✅ Preserve position\r\n                        fontSize: baseStyles.fontSize || componentData.fontSize || '1.5rem',\r\n                        color: baseStyles.color || componentData.color || '#1f2937',\r\n                        margin: baseStyles.margin || componentData.margin || '0',\r\n                        fontWeight: baseStyles.fontWeight || componentData.fontWeight || '700',\r\n                        textAlign: baseStyles.textAlign || componentData.textAlign || 'left',\r\n                        lineHeight: baseStyles.lineHeight || componentData.lineHeight || '1.4',\r\n                        fontFamily: baseStyles.fontFamily || componentData.fontFamily || 'Arial, sans-serif',\r\n                        fontStyle: baseStyles.fontStyle || componentData.fontStyle || 'normal',\r\n                        textDecoration: baseStyles.textDecoration || componentData.textDecoration || 'none',\r\n                        textTransform: baseStyles.textTransform || componentData.textTransform || 'none',\r\n                        letterSpacing: baseStyles.letterSpacing || componentData.letterSpacing || '0',\r\n                        textShadow: baseStyles.textShadow || componentData.textShadow || 'none',\r\n                        WebkitTextStroke: baseStyles.WebkitTextStroke || componentData.WebkitTextStroke || 'none',\r\n                        WebkitBackgroundClip: baseStyles.WebkitBackgroundClip || componentData.WebkitBackgroundClip || 'initial',\r\n                        WebkitTextFillColor: baseStyles.WebkitTextFillColor || componentData.WebkitTextFillColor || 'initial',\r\n                        zIndex: baseStyles.zIndex || 100,  // ✅ Cao hơn background\r\n                        pointerEvents: 'auto',  // ✅ CHO PHÉP CLICK\r\n                    }}\r\n                    onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\r\n                            onSelectChild(parentId, childId);\r\n                        }\r\n                    }}\r\n                >\r\n                    {componentData.content || 'Tiêu đề'}\r\n                </HeadingTag>\r\n            );\r\n        }\r\n\r\n        case 'paragraph': {\r\n            return (\r\n                <p\r\n                    style={{\r\n                        ...getCleanTextStyles(baseStyles),\r\n                        position: baseStyles.position || 'relative',  // ✅ Preserve position\r\n                        fontSize: componentData.fontSize || '1rem',\r\n                        color: componentData.color || '#1f2937',\r\n                        margin: componentData.margin || '0',\r\n                        fontWeight: componentData.fontWeight || '400',\r\n                        lineHeight: componentData.lineHeight || '1.6',\r\n                        textAlign: componentData.textAlign || 'left',\r\n                        zIndex: baseStyles.zIndex || 100,  // ✅ Cao hơn background\r\n                        pointerEvents: 'auto',  // ✅ CHO PHÉP CLICK\r\n                    }}\r\n                    onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\r\n                            onSelectChild(parentId, childId);\r\n                        }\r\n                    }}\r\n                >\r\n                    {componentData.content || 'Đoạn văn'}\r\n                </p>\r\n            );\r\n        }\r\n\r\n        case 'button': {\r\n            const buttonClass = `button-${componentData.id || Math.random().toString(36).substr(2, 9)}`;\r\n            const cssString = getButtonCSS(styles, buttonClass);\r\n\r\n            const handleClick = (e) => {\r\n                e.stopPropagation();\r\n                if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\r\n                    onSelectChild(parentId, childId);\r\n                }\r\n                if (componentData.events?.onClick) {\r\n                    eventController.handleEvent(componentData.events.onClick, childId || parentId, isCanvas);\r\n                    const event = componentData.events.onClick;\r\n                    if (isCanvas) {\r\n                        if (event.type === 'submitForm') {\r\n                            toast.info(`Mô phỏng: Gửi form đến ${event.apiUrl}`, {\r\n                                position: 'bottom-right',\r\n                                autoClose: 2000,\r\n                            });\r\n                        } else if (event.type === 'navigate') {\r\n                            toast.info(`Mô phỏng: Điều hướng đến ${event.url}`, {\r\n                                position: 'bottom-right',\r\n                                autoClose: 2000,\r\n                            });\r\n                        } else if (event.type === 'triggerApi') {\r\n                            toast.info(`Mô phỏng: Gọi API ${event.apiUrl}`, {\r\n                                position: 'bottom-right',\r\n                                autoClose: 2000,\r\n                            });\r\n                        }\r\n                    } else {\r\n                        if (event.type === 'submitForm') {\r\n                            console.log(`Submitting form to ${event.apiUrl}`);\r\n                        } else if (event.type === 'navigate') {\r\n                            window.location.href = event.url;\r\n                        } else if (event.type === 'triggerApi') {\r\n                            console.log(`Trigger API: ${event.apiUrl}`);\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n            return (\r\n                <>\r\n                    {cssString && <style>{cssString}</style>}\r\n                    <button\r\n                        className={buttonClass}\r\n                        style={{\r\n                            ...baseStyles,\r\n                            position: baseStyles.position || 'relative',  // ✅ Preserve position\r\n                            padding: baseStyles.padding || componentData.padding || '10px 20px',\r\n                            borderRadius: baseStyles.borderRadius || componentData.borderRadius || '8px',\r\n                            background: baseStyles.background || componentData.background || '#2563eb',\r\n                            color: baseStyles.color || componentData.color || '#fff',\r\n                            border: baseStyles.border || componentData.border || 'none',\r\n                            cursor: baseStyles.cursor || 'pointer',\r\n                            fontSize: baseStyles.fontSize || componentData.fontSize || '1rem',\r\n                            fontWeight: baseStyles.fontWeight || componentData.fontWeight || '600',\r\n                            textAlign: baseStyles.textAlign || componentData.textAlign || 'center',\r\n                            display: baseStyles.display || 'inline-flex',\r\n                            alignItems: baseStyles.alignItems || 'center',\r\n                            justifyContent: baseStyles.justifyContent || 'center',\r\n                            transition: baseStyles.transition || 'all 0.3s ease',\r\n                            boxSizing: 'border-box',\r\n                            width: baseStyles.width || 'auto',\r\n                            minWidth: baseStyles.minWidth || 'fit-content',\r\n                            whiteSpace: 'nowrap',\r\n                            zIndex: baseStyles.zIndex || 100,  // ✅ Cao hơn background\r\n                            pointerEvents: 'auto',  // ✅ CHO PHÉP CLICK\r\n                        }}\r\n                        onClick={handleClick}\r\n                    >\r\n                        {componentData.content || 'Nút'}\r\n                    </button>\r\n                </>\r\n            );\r\n        }\r\n\r\n        case 'image': {\r\n            return (\r\n                <img\r\n                    src={componentData.src || 'https://via.placeholder.com/150?text=Image'}\r\n                    alt={componentData.alt || 'Hình ảnh'}\r\n                    style={{\r\n                        maxWidth: componentData.maxWidth || '100%',\r\n                        height: componentData.height || 'auto',\r\n                        borderRadius: componentData.borderRadius || '0',\r\n                        ...baseStyles,\r\n                    }}\r\n                    draggable={componentData.draggable ?? false}\r\n                />\r\n            );\r\n        }\r\n\r\n        case 'form': {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        display: 'flex',\r\n                        flexDirection: componentData.direction || 'column',\r\n                        gap: componentData.gap || '10px',\r\n                        ...baseStyles,\r\n                    }}\r\n                >\r\n                    {componentData.title && !children.some((child) => child?.type === 'heading') && (\r\n                        <h3\r\n                            style={{\r\n                                ...getCleanTextStyles(baseStyles),\r\n                                margin: componentData.titleMargin || '0',\r\n                                fontSize: componentData.titleFontSize || '1.2rem',\r\n                                color: componentData.titleColor || '#1f2937',\r\n                                fontWeight: componentData.titleFontWeight || '600',\r\n                            }}\r\n                        >\r\n                            {componentData.title}\r\n                        </h3>\r\n                    )}\r\n                    {Array.isArray(componentData.fields) && componentData.fields.length > 0 ? (\r\n                        componentData.fields.map((field, index) => (\r\n                            <input\r\n                                key={index}\r\n                                type={field.type || 'text'}\r\n                                placeholder={field.placeholder || field.label || 'Nhập...'}\r\n                                style={{\r\n                                    padding: field.padding || '8px',\r\n                                    borderRadius: field.borderRadius || '8px',\r\n                                    border: field.border || '1px solid #ccc',\r\n                                    fontSize: field.fontSize || '1rem',\r\n                                }}\r\n                            />\r\n                        ))\r\n                    ) : (\r\n                        !children.some((child) => child?.type === 'input') && (\r\n                            <input\r\n                                type={componentData.inputType || 'text'}\r\n                                placeholder={componentData.placeholder || 'Nhập...'}\r\n                                style={{\r\n                                    padding: componentData.inputPadding || '8px',\r\n                                    borderRadius: componentData.inputBorderRadius || '8px',\r\n                                    border: componentData.inputBorder || '1px solid #ccc',\r\n                                    fontSize: componentData.inputFontSize || '1rem',\r\n                                }}\r\n                            />\r\n                        )\r\n                    )}\r\n                    {!children.some((child) => child?.type === 'button') && (\r\n                        <button\r\n                            type=\"submit\"\r\n                            style={{\r\n                                background: componentData.buttonBackground || '#2563eb',\r\n                                color: componentData.buttonColor || '#fff',\r\n                                padding: componentData.buttonPadding || '8px 16px',\r\n                                borderRadius: componentData.buttonBorderRadius || '8px',\r\n                                border: componentData.buttonBorder || 'none',\r\n                                cursor: 'pointer',\r\n                                fontSize: componentData.buttonFontSize || '1rem',\r\n                                fontWeight: componentData.buttonFontWeight || '600',\r\n                            }}\r\n                        >\r\n                            {componentData.buttonText || 'Gửi'}\r\n                        </button>\r\n                    )}\r\n                    {children.map((child, index) =>\r\n                        React.cloneElement(\r\n                            renderComponentContent(\r\n                                child.type,\r\n                                child.componentData || {},\r\n                                child.styles || {},\r\n                                child.children || [],\r\n                                isCanvas,\r\n                                onSelectChild,\r\n                                parentId,\r\n                                child.id,\r\n                                isTemplateMode,\r\n                                viewMode\r\n                            ),\r\n                            { key: child.id || index }\r\n                        )\r\n                    )}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        case 'section':\r\n        case 'container': {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        display: componentData.layoutType || 'flex',\r\n                        flexDirection: componentData.direction || 'column',\r\n                        gap: componentData.gap || '10px',\r\n                        padding: componentData.padding || '0',\r\n                        background: componentData.background || 'transparent',\r\n                        ...baseStyles,\r\n                    }}\r\n                >\r\n                    {componentData.title && !children.some((child) => child?.type === 'heading') && (\r\n                        <h2\r\n                            style={{\r\n                                ...getCleanTextStyles(baseStyles),\r\n                                fontSize: componentData.titleFontSize || '1.8rem',\r\n                                margin: componentData.titleMargin || '0',\r\n                                color: componentData.titleColor || '#1f2937',\r\n                                fontWeight: componentData.titleFontWeight || '700',\r\n                            }}\r\n                        >\r\n                            {componentData.title}\r\n                        </h2>\r\n                    )}\r\n                    {componentData.subtitle && !children.some((child) => child?.type === 'paragraph') && (\r\n                        <p\r\n                            style={{\r\n                                ...getCleanTextStyles(baseStyles),\r\n                                fontSize: componentData.subtitleFontSize || '1.2rem',\r\n                                margin: componentData.subtitleMargin || '0',\r\n                                color: componentData.subtitleColor || '#4b5563',\r\n                            }}\r\n                        >\r\n                            {componentData.subtitle}\r\n                        </p>\r\n                    )}\r\n                    {componentData.content && !children.some((child) => child?.type === 'paragraph') && (\r\n                        <p\r\n                            style={{\r\n                                ...getCleanTextStyles(baseStyles),\r\n                                fontSize: componentData.contentFontSize || '1rem',\r\n                                margin: componentData.contentMargin || '0',\r\n                                color: componentData.contentColor || '#4b5563',\r\n                            }}\r\n                        >\r\n                            {componentData.content}\r\n                        </p>\r\n                    )}\r\n                    {Array.isArray(componentData.features) && componentData.features.length > 0 && !children.some((child) => child?.type === 'list') && (\r\n                        <ul\r\n                            style={{\r\n                                listStyle: 'none',\r\n                                padding: componentData.featuresPadding || 0,\r\n                                margin: componentData.featuresMargin || '0',\r\n                                display: 'flex',\r\n                                flexDirection: componentData.featuresDirection || 'column',\r\n                                gap: componentData.featuresGap || '8px',\r\n                            }}\r\n                        >\r\n                            {componentData.features.map((feature, index) => (\r\n                                <li\r\n                                    key={index}\r\n                                    style={{\r\n                                        fontSize: componentData.featureFontSize || '1rem',\r\n                                        color: componentData.featureColor || '#1f2937',\r\n                                    }}\r\n                                >\r\n                                    {feature}\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    )}\r\n                    {componentData.ctaText && !children.some((child) => child?.type === 'button') && (\r\n                        <button\r\n                            style={{\r\n                                padding: componentData.ctaPadding || '10px 20px',\r\n                                borderRadius: componentData.ctaBorderRadius || '8px',\r\n                                background: componentData.ctaBackground || '#2563eb',\r\n                                color: componentData.ctaColor || '#fff',\r\n                                border: componentData.ctaBorder || 'none',\r\n                                cursor: 'pointer',\r\n                                fontSize: componentData.ctaFontSize || '1rem',\r\n                                fontWeight: componentData.ctaFontWeight || '600',\r\n                            }}\r\n                        >\r\n                            {componentData.ctaText}\r\n                        </button>\r\n                    )}\r\n                    {componentData.contact && !children.some((child) => child?.type === 'paragraph') && (\r\n                        <p\r\n                            style={{\r\n                                ...getCleanTextStyles(baseStyles),\r\n                                fontSize: componentData.contactFontSize || '0.9rem',\r\n                                margin: componentData.contactMargin || '0',\r\n                                color: componentData.contactColor || '#4b5563',\r\n                            }}\r\n                        >\r\n                            {componentData.contact}\r\n                        </p>\r\n                    )}\r\n                    {children.map((child, index) =>\r\n                        React.cloneElement(\r\n                            renderComponentContent(\r\n                                child.type,\r\n                                child.componentData || {},\r\n                                child.styles || {},\r\n                                child.children || [],\r\n                                isCanvas,\r\n                                onSelectChild,\r\n                                parentId,\r\n                                child.id,\r\n                                isTemplateMode,\r\n                                viewMode\r\n                            ),\r\n                            { key: child.id || index }\r\n                        )\r\n                    )}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        case 'divider': {\r\n            return (\r\n                <hr\r\n                    style={{\r\n                        border: 'none',\r\n                        background: componentData.color || '#e5e7eb',\r\n                        height: componentData.thickness || '2px',\r\n                        width: componentData.width || '100%',\r\n                        margin: componentData.margin || '0',\r\n                        ...baseStyles,\r\n                    }}\r\n                />\r\n            );\r\n        }\r\n\r\n        case 'spacer': {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        background: componentData.background || 'transparent',\r\n                        height: componentData.height || '40px',\r\n                        width: componentData.width || '100%',\r\n                        ...baseStyles,\r\n                    }}\r\n                />\r\n            );\r\n        }\r\n\r\n        case 'popup': {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        display: 'flex',\r\n                        flexDirection: componentData.direction || 'column',\r\n                        gap: componentData.gap || '10px',\r\n                        textAlign: componentData.textAlign || 'center',\r\n                        padding: componentData.padding || '20px',\r\n                        background: componentData.background || 'rgba(255, 255, 255, 0.9)',\r\n                        borderRadius: componentData.borderRadius || '12px',\r\n                        ...baseStyles,\r\n                    }}\r\n                >\r\n                    {componentData.title && !children.some((child) => child?.type === 'heading') && (\r\n                        <h3\r\n                            style={{\r\n                                ...getCleanTextStyles(baseStyles),\r\n                                fontSize: componentData.titleFontSize || '1.5rem',\r\n                                margin: componentData.titleMargin || '0',\r\n                                color: componentData.titleColor || '#1f2937',\r\n                                fontWeight: componentData.titleFontWeight || '600',\r\n                            }}\r\n                        >\r\n                            {componentData.title}\r\n                        </h3>\r\n                    )}\r\n                    {componentData.content && !children.some((child) => child?.type === 'paragraph') && (\r\n                        <p\r\n                            style={{\r\n                                ...getCleanTextStyles(baseStyles),\r\n                                fontSize: componentData.contentFontSize || '1rem',\r\n                                margin: componentData.contentMargin || '0',\r\n                                color: componentData.contentColor || '#4b5563',\r\n                            }}\r\n                        >\r\n                            {componentData.content}\r\n                        </p>\r\n                    )}\r\n                    {componentData.buttonText && !children.some((child) => child?.type === 'button') && (\r\n                        <button\r\n                            style={{\r\n                                padding: componentData.buttonPadding || '10px 20px',\r\n                                borderRadius: componentData.buttonBorderRadius || '8px',\r\n                                background: componentData.buttonBackground || '#2563eb',\r\n                                color: componentData.buttonColor || '#fff',\r\n                                border: componentData.buttonBorder || 'none',\r\n                                cursor: 'pointer',\r\n                                fontSize: componentData.buttonFontSize || '1rem',\r\n                                fontWeight: componentData.buttonFontWeight || '600',\r\n                            }}\r\n                        >\r\n                            {componentData.buttonText}\r\n                        </button>\r\n                    )}\r\n                    {children.map((child, index) =>\r\n                        React.cloneElement(\r\n                            renderComponentContent(\r\n                                child.type,\r\n                                child.componentData || {},\r\n                                child.styles || {},\r\n                                child.children || [],\r\n                                isCanvas,\r\n                                onSelectChild,\r\n                                parentId,\r\n                                child.id,\r\n                                isTemplateMode,\r\n                                viewMode\r\n                            ),\r\n                            { key: child.id || index }\r\n                        )\r\n                    )}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        case 'modal': {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        display: 'flex',\r\n                        flexDirection: componentData.direction || 'column',\r\n                        gap: componentData.gap || '10px',\r\n                        padding: componentData.padding || '20px',\r\n                        background: componentData.background || 'rgba(255, 255, 255, 0.9)',\r\n                        borderRadius: componentData.borderRadius || '12px',\r\n                        ...baseStyles,\r\n                    }}\r\n                >\r\n                    {componentData.title && !children.some((child) => child?.type === 'heading') && (\r\n                        <h3\r\n                            style={{\r\n                                ...getCleanTextStyles(baseStyles),\r\n                                fontSize: componentData.titleFontSize || '1.5rem',\r\n                                margin: componentData.titleMargin || '0',\r\n                                color: componentData.titleColor || '#1f2937',\r\n                                fontWeight: componentData.titleFontWeight || '600',\r\n                            }}\r\n                        >\r\n                            {componentData.title}\r\n                        </h3>\r\n                    )}\r\n                    {componentData.content && !children.some((child) => child?.type === 'paragraph') && (\r\n                        <p\r\n                            style={{\r\n                                ...getCleanTextStyles(baseStyles),\r\n                                fontSize: componentData.contentFontSize || '1rem',\r\n                                margin: componentData.contentMargin || '0',\r\n                                color: componentData.contentColor || '#4b5563',\r\n                            }}\r\n                        >\r\n                            {componentData.content}\r\n                        </p>\r\n                    )}\r\n                    {componentData.closeButton && !children.some((child) => child?.type === 'button') && (\r\n                        <button\r\n                            style={{\r\n                                padding: componentData.buttonPadding || '8px 16px',\r\n                                borderRadius: componentData.buttonBorderRadius || '8px',\r\n                                background: componentData.buttonBackground || '#6b7280',\r\n                                color: componentData.buttonColor || '#fff',\r\n                                border: componentData.buttonBorder || 'none',\r\n                                cursor: 'pointer',\r\n                                alignSelf: 'flex-end',\r\n                                fontSize: componentData.buttonFontSize || '1rem',\r\n                                fontWeight: componentData.buttonFontWeight || '600',\r\n                            }}\r\n                        >\r\n                            {componentData.buttonText || 'Đóng'}\r\n                        </button>\r\n                    )}\r\n                    {children.map((child, index) =>\r\n                        React.cloneElement(\r\n                            renderComponentContent(\r\n                                child.type,\r\n                                child.componentData || {},\r\n                                child.styles || {},\r\n                                child.children || [],\r\n                                isCanvas,\r\n                                onSelectChild,\r\n                                parentId,\r\n                                child.id,\r\n                                isTemplateMode,\r\n                                viewMode\r\n                            ),\r\n                            { key: child.id || index }\r\n                        )\r\n                    )}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        case 'card': {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        padding: componentData.padding || '20px',\r\n                        background: componentData.background || '#ffffff',\r\n                        borderRadius: componentData.borderRadius || '8px',\r\n                        boxShadow: componentData.boxShadow || '0 2px 8px rgba(0,0,0,0.1)',\r\n                        ...baseStyles,\r\n                    }}\r\n                >\r\n                    {componentData.title && (\r\n                        <h3\r\n                            style={{\r\n                                ...getCleanTextStyles(baseStyles),\r\n                                fontSize: componentData.titleFontSize || '1.2rem',\r\n                                margin: componentData.titleMargin || '0',\r\n                                color: componentData.titleColor || '#1f2937',\r\n                            }}\r\n                        >\r\n                            {componentData.title}\r\n                        </h3>\r\n                    )}\r\n                    {componentData.content && (\r\n                        <p\r\n                            style={{\r\n                                ...getCleanTextStyles(baseStyles),\r\n                                fontSize: componentData.contentFontSize || '1rem',\r\n                                margin: componentData.contentMargin || '10px 0 0',\r\n                                color: componentData.contentColor || '#4b5563',\r\n                            }}\r\n                        >\r\n                            {componentData.content}\r\n                        </p>\r\n                    )}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        case 'grid': {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        display: 'grid',\r\n                        gridTemplateColumns: componentData.columns ? `repeat(${componentData.columns}, 1fr)` : 'repeat(2, 1fr)',\r\n                        gap: componentData.gap || '20px',\r\n                        ...baseStyles,\r\n                    }}\r\n                >\r\n                    {Array.isArray(componentData.items) &&\r\n                        componentData.items.map((item, index) => (\r\n                            <div\r\n                                key={index}\r\n                                style={{\r\n                                    background: componentData.itemBackground || '#ffffff',\r\n                                    borderRadius: componentData.itemBorderRadius || '8px',\r\n                                    padding: componentData.itemPadding || '10px',\r\n                                }}\r\n                            >\r\n                                {item.image && (\r\n                                    <img\r\n                                        src={item.image}\r\n                                        alt={item.title || 'Product'}\r\n                                        style={{ maxWidth: '100%', height: 'auto' }}\r\n                                    />\r\n                                )}\r\n                                {item.title && (\r\n                                    <h4\r\n                                        style={{\r\n                                            ...getCleanTextStyles(baseStyles),\r\n                                            fontSize: componentData.titleFontSize || '1rem',\r\n                                            margin: componentData.titleMargin || '10px 0 0',\r\n                                            color: componentData.titleColor || '#1f2937',\r\n                                        }}\r\n                                    >\r\n                                        {item.title}\r\n                                    </h4>\r\n                                )}\r\n                                {item.price && (\r\n                                    <p\r\n                                        style={{\r\n                                            ...getCleanTextStyles(baseStyles),\r\n                                            fontSize: componentData.priceFontSize || '0.9rem',\r\n                                            margin: componentData.priceMargin || '5px 0 0',\r\n                                            color: componentData.priceColor || '#4b5563',\r\n                                        }}\r\n                                    >\r\n                                        {item.price}\r\n                                    </p>\r\n                                )}\r\n                            </div>\r\n                        ))}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        case 'list': {\r\n            return (\r\n                <ul\r\n                    style={{\r\n                        listStyleType: componentData.listStyleType || 'none',\r\n                        padding: componentData.padding || '0',\r\n                        ...baseStyles,\r\n                    }}\r\n                >\r\n                    {Array.isArray(componentData.items) &&\r\n                        componentData.items.map((item, index) => (\r\n                            <li\r\n                                key={index}\r\n                                style={{\r\n                                    ...getCleanTextStyles(baseStyles),\r\n                                    fontSize: componentData.itemFontSize || '1rem',\r\n                                    margin: componentData.itemMargin || '5px 0',\r\n                                    color: componentData.itemColor || '#1f2937',\r\n                                }}\r\n                            >\r\n                                {item.title || item}\r\n                            </li>\r\n                        ))}\r\n                </ul>\r\n            );\r\n        }\r\n\r\n        case 'gallery': {\r\n            const { images = [], animation = {} } = componentData;\r\n            const galleryClass = `gallery-${parentId || 'root'}-${childId || Date.now()}`;\r\n            const animationCSS = getGalleryAnimationCSS(animation, galleryClass);\r\n\r\n            const handleImageClick = (e, imageUrl, index) => {\r\n                e.stopPropagation();\r\n                if (isCanvas) {\r\n                    if (typeof onSelectChild === 'function' && parentId && childId) {\r\n                        onSelectChild(parentId, childId);\r\n                    }\r\n                    toast.info(`Mô phỏng: Mở lightbox cho ảnh ${index + 1}`, {\r\n                        position: 'bottom-right',\r\n                        autoClose: 2000,\r\n                    });\r\n                } else {\r\n                    console.log(`Open image: ${imageUrl}`);\r\n                }\r\n            };\r\n\r\n            return (\r\n                <>\r\n                    {animationCSS && <style>{animationCSS}</style>}\r\n                    <div\r\n                        className={`lpb-gallery ${galleryClass}`}\r\n                        style={{\r\n                            ...baseStyles,\r\n                            cursor: componentData.events?.onClick ? 'pointer' : 'default',\r\n                        }}\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            if (isCanvas && typeof onSelectChild === 'function' && parentId && childId) {\r\n                                onSelectChild(parentId, childId);\r\n                            }\r\n                        }}\r\n                    >\r\n                        <div\r\n                            style={{\r\n                                display: baseStyles.display || 'grid',\r\n                                gridTemplateColumns: baseStyles.gridTemplateColumns || 'repeat(auto-fill, minmax(150px, 1fr))',\r\n                                gap: baseStyles.gap || '10px',\r\n                                width: '100%',\r\n                            }}\r\n                        >\r\n                            {images.map((imageUrl, index) => (\r\n                                <div\r\n                                    key={index}\r\n                                    style={{\r\n                                        position: 'relative',\r\n                                        overflow: 'hidden',\r\n                                        borderRadius: baseStyles.borderRadius || '8px',\r\n                                        aspectRatio: '1 / 1',\r\n                                        cursor: 'pointer',\r\n                                        transition: 'transform 0.3s ease',\r\n                                    }}\r\n                                    onClick={(e) => handleImageClick(e, imageUrl, index)}\r\n                                    onMouseEnter={(e) => {\r\n                                        if (componentData.events?.onHover?.type === 'zoomIn') {\r\n                                            e.currentTarget.style.transform = 'scale(1.05)';\r\n                                        }\r\n                                    }}\r\n                                    onMouseLeave={(e) => {\r\n                                        if (componentData.events?.onHover?.type === 'zoomIn') {\r\n                                            e.currentTarget.style.transform = 'scale(1)';\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        src={imageUrl || 'https://via.placeholder.com/150'}\r\n                                        alt={`Gallery ${index + 1}`}\r\n                                        style={{\r\n                                            width: '100%',\r\n                                            height: '100%',\r\n                                            objectFit: 'cover',\r\n                                        }}\r\n                                        loading=\"lazy\"\r\n                                    />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        {children.map((child, index) =>\r\n                            React.cloneElement(\r\n                                renderComponentContent(\r\n                                    child.type,\r\n                                    child.componentData || {},\r\n                                    child.styles || {},\r\n                                    child.children || [],\r\n                                    isCanvas,\r\n                                    onSelectChild,\r\n                                    parentId,\r\n                                    child.id,\r\n                                    isTemplateMode,\r\n                                    viewMode\r\n                                ),\r\n                                { key: child.id || index }\r\n                            )\r\n                        )}\r\n                    </div>\r\n                </>\r\n            );\r\n        }\r\n\r\n        default: {\r\n            return (\r\n                <div\r\n                    style={{\r\n                        color: componentData.errorColor || '#ff0000',\r\n                        padding: '10px',\r\n                        border: '1px dashed #ff0000',\r\n                        borderRadius: '4px',\r\n                        ...baseStyles,\r\n                    }}\r\n                >\r\n                    Unknown Component: {type}\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\n// PropTypes for type checking\r\nrenderComponentContent.propTypes = {\r\n    type: PropTypes.string.isRequired,\r\n    componentData: PropTypes.object,\r\n    styles: PropTypes.object,\r\n    children: PropTypes.array,\r\n    isCanvas: PropTypes.bool,\r\n    onSelectChild: PropTypes.func,\r\n    parentId: PropTypes.string,\r\n    childId: PropTypes.string,\r\n    isTemplateMode: PropTypes.bool,\r\n    viewMode: PropTypes.string,\r\n};\r\n\r\ngetCanvasPosition.propTypes = {\r\n    mouseX: PropTypes.number.isRequired,\r\n    mouseY: PropTypes.number.isRequired,\r\n    containerElement: PropTypes.instanceOf(Element),\r\n    zoomLevel: PropTypes.number.isRequired,\r\n};\r\n\r\nsnapToGrid.propTypes = {\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired,\r\n    gridSize: PropTypes.number.isRequired,\r\n    snapPoints: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            x: PropTypes.number,\r\n            y: PropTypes.number,\r\n        })\r\n    ),\r\n};\r\n\r\ngetElementBounds.propTypes = {\r\n    element: PropTypes.shape({\r\n        position: PropTypes.shape({\r\n            desktop: PropTypes.shape({\r\n                x: PropTypes.number,\r\n                y: PropTypes.number,\r\n            }),\r\n        }),\r\n        size: PropTypes.shape({\r\n            width: PropTypes.number,\r\n            height: PropTypes.number,\r\n        }),\r\n    }).isRequired,\r\n};\r\n\r\nprocessStyles.propTypes = {\r\n    styles: PropTypes.object.isRequired,\r\n    className: PropTypes.string.isRequired,\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}