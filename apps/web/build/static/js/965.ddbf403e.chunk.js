"use strict";(self.webpackChunklandinghub_web=self.webpackChunklandinghub_web||[]).push([[965],{4965:(s,a,e)=>{e.r(a),e.d(a,{default:()=>g});var l=e(8962),c=e(7369),t=e(9242),n=e(8008),d=e(4126),i=e(3805),r=e(908),h=e(7044),o=e(7507),x=e(6859),j=e(9930);const g=()=>{const[s,a]=(0,l.useState)({pages:{total:0,live:0,draft:0,totalViews:"0",totalRevenue:"0\u0111"},purchases:{count:0,totalSpent:"0\u0111",avgPerPurchase:"0\u0111",totalSpentRaw:0},sales:{count:0,totalEarned:"0\u0111",avgPerSale:"0\u0111",totalEarnedRaw:0},balance:{amount:"0\u0111",amountRaw:0,status:"neutral"},pagesList:[]}),[e,g]=(0,l.useState)(!0),[p,m]=(0,l.useState)(null),v=async()=>{try{var s;g(!0),m(null),console.log("\ud83d\udce1 Fetching dashboard data...");const e=await x.A.get("api/dashboard/data");if(console.log("\u2705 Dashboard API Response:",e.data),console.log("\ud83d\udcca Pages Data:",e.data.data.pages),console.log("\ud83d\udccb Pages List Length:",null===(s=e.data.data.pagesList)||void 0===s?void 0:s.length),!e.data.success||!e.data.data)throw new Error("Invalid response structure");a(e.data.data),console.log("\u2705 State Updated - Total Pages:",e.data.data.pages.total)}catch(p){console.error("\u274c Dashboard Error:",p),m(p.message)}finally{g(!1)}};return(0,l.useEffect)(()=>{v()},[]),e?(0,j.jsxs)("div",{className:"dashboard-loading",children:[(0,j.jsx)(c.A,{className:"spin",size:48}),(0,j.jsx)("p",{children:"\u0110ang t\u1ea3i dashboard..."})]}):p?(0,j.jsxs)("div",{className:"dashboard-error",children:[(0,j.jsx)(t.A,{size:48,color:"#ef4444"}),(0,j.jsx)("h3",{children:"Kh\xf4ng th\u1ec3 t\u1ea3i dashboard"}),(0,j.jsx)("p",{children:p}),(0,j.jsxs)("button",{onClick:v,className:"btn-retry",children:[(0,j.jsx)(c.A,{size:18})," Th\u1eed l\u1ea1i"]})]}):(0,j.jsxs)("div",{className:"user-dashboard",children:[(0,j.jsxs)("div",{className:"dashboard-header",children:[(0,j.jsxs)("div",{className:"header-content",children:[(0,j.jsx)("h1",{children:"\ud83d\udc4b Ch\xe0o m\u1eebng quay l\u1ea1i!"}),(0,j.jsxs)("p",{children:["B\u1ea1n c\xf3 ",(0,j.jsxs)("strong",{children:[s.pages.total," landing pages"]}),"(",s.pages.live," LIVE \u2022 ",s.pages.draft," Draft) v\u1edbi ",(0,j.jsxs)("strong",{children:[s.pages.totalViews," l\u01b0\u1ee3t xem"]})]})]}),(0,j.jsxs)("button",{onClick:v,className:"btn-refresh",children:[(0,j.jsx)(c.A,{size:18})," L\xe0m m\u1edbi"]})]}),(0,j.jsxs)("div",{className:"stats-grid",children:[(0,j.jsxs)("div",{className:"stat-card pages",children:[(0,j.jsx)("div",{className:"card-icon",children:(0,j.jsx)(n.A,{size:32})}),(0,j.jsxs)("div",{className:"card-content",children:[(0,j.jsx)("h3",{children:"Landing Pages"}),(0,j.jsx)("div",{className:"value",children:s.pages.total}),(0,j.jsxs)("div",{className:"meta",children:[(0,j.jsxs)("span",{className:"live",children:[s.pages.live," LIVE"]}),(0,j.jsx)("span",{className:"separator",children:"\u2022"}),(0,j.jsxs)("span",{className:"draft",children:[s.pages.draft," Draft"]})]}),(0,j.jsxs)("div",{className:"footer",children:[s.pages.totalViews," l\u01b0\u1ee3t xem"]})]})]}),(0,j.jsxs)("div",{className:"stat-card purchases",children:[(0,j.jsx)("div",{className:"card-icon",children:(0,j.jsx)(d.A,{size:32})}),(0,j.jsxs)("div",{className:"card-content",children:[(0,j.jsx)("h3",{children:"\u0110\xe3 Mua"}),(0,j.jsx)("div",{className:"value",children:s.purchases.totalSpent}),(0,j.jsx)("div",{className:"meta",children:(0,j.jsxs)("span",{children:[s.purchases.count," giao d\u1ecbch"]})}),(0,j.jsxs)("div",{className:"footer",children:["TB: ",s.purchases.avgPerPurchase,"/GD"]})]})]}),(0,j.jsxs)("div",{className:"stat-card sales",children:[(0,j.jsx)("div",{className:"card-icon",children:(0,j.jsx)(i.A,{size:32})}),(0,j.jsxs)("div",{className:"card-content",children:[(0,j.jsx)("h3",{children:"\u0110\xe3 B\xe1n"}),(0,j.jsx)("div",{className:"value",children:s.sales.totalEarned}),(0,j.jsx)("div",{className:"meta",children:(0,j.jsxs)("span",{children:[s.sales.count," giao d\u1ecbch"]})}),(0,j.jsxs)("div",{className:"footer",children:["TB: ",s.sales.avgPerSale,"/GD"]})]})]}),(0,j.jsxs)("div",{className:"stat-card balance ".concat(s.balance.status),children:[(0,j.jsx)("div",{className:"card-icon",children:"positive"===s.balance.status?(0,j.jsx)(r.A,{size:32}):(0,j.jsx)(h.A,{size:32})}),(0,j.jsxs)("div",{className:"card-content",children:[(0,j.jsx)("h3",{children:"S\u1ed1 D\u01b0 R\xf2ng"}),(0,j.jsx)("div",{className:"value",children:s.balance.amount}),(0,j.jsx)("div",{className:"meta",children:(0,j.jsx)("span",{children:"B\xe1n - Mua"})}),(0,j.jsx)("div",{className:"footer",children:"positive"===s.balance.status?"\u2705 L\u1ee3i nhu\u1eadn d\u01b0\u01a1ng":"\ud83d\udcb0 \u0110ang \u0111\u1ea7u t\u01b0"})]})]})]}),s.pagesList&&s.pagesList.length>0&&(0,j.jsxs)("div",{className:"pages-section",children:[(0,j.jsxs)("div",{className:"section-header",children:[(0,j.jsx)("h2",{children:"\ud83d\udccb Landing Pages G\u1ea7n \u0110\xe2y"}),(0,j.jsxs)("span",{className:"page-count",children:["Hi\u1ec3n th\u1ecb ",Math.min(6,s.pagesList.length)," trong t\u1ed5ng s\u1ed1 ",s.pages.total," pages"]})]}),(0,j.jsx)("div",{className:"pages-grid",children:s.pagesList.slice(0,6).map(s=>(0,j.jsxs)("div",{className:"page-card",children:[(0,j.jsxs)("div",{className:"page-image",children:[(0,j.jsx)("img",{src:s.screenshot||"/images/placeholder.jpg",alt:s.title}),(0,j.jsx)("div",{className:"page-status ".concat("\u0110\xc3 XU\u1ea4T B\u1ea2N"===s.status?"live":"draft"),children:"\u0110\xc3 XU\u1ea4T B\u1ea2N"===s.status?"LIVE":"DRAFT"})]}),(0,j.jsxs)("div",{className:"page-content",children:[(0,j.jsx)("h3",{children:s.title}),(0,j.jsxs)("div",{className:"page-stats",children:[(0,j.jsxs)("span",{children:[(0,j.jsx)(n.A,{size:14})," ",s.views]}),(0,j.jsxs)("span",{children:[(0,j.jsx)(i.A,{size:14})," ",s.revenue]}),(0,j.jsxs)("span",{children:[(0,j.jsx)(o.A,{size:14})," ",s.created]})]})]})]},s.id))})]})]})}}}]);